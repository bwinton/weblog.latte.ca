<!DOCTYPE html>
<html prefix="og: http://ogp.me/ns# article: http://ogp.me/ns/article# " lang="en">
<head>
<meta charset="utf-8">
<base href="https://bwinton.github.io/weblog.latte.ca/blake/employment/mozilla/tabsaver.html">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Cleaning out your Firefox profile. | Blog-O!</title>
<link href="../../../assets/css/bootstrap.min.css" rel="stylesheet" type="text/css">
<link href="../../../assets/css/rst.css" rel="stylesheet" type="text/css">
<link href="../../../assets/css/code.css" rel="stylesheet" type="text/css">
<link href="../../../assets/css/colorbox.css" rel="stylesheet" type="text/css">
<link href="../../../assets/css/theme.css" rel="stylesheet" type="text/css">
<meta content="#5670d4" name="theme-color">
<link rel="alternate" type="application/rss+xml" title="RSS" href="../../../rss.xml">
<link rel="canonical" href="https://bwinton.github.io/weblog.latte.ca/blake/employment/mozilla/tabsaver.html">
<!--[if lt IE 9]><script src="../../../assets/js/html5.js"></script><![endif]--><meta name="author" content="Blake Winton">
<link rel="prev" href="../../../amy/letters/readinglog.html" title="Letter to Delphine's Teacher Re: Reading Log" type="text/html">
<link rel="next" href="../../../amy/everythingelse/playground.html" title="What I Learned About Building a Natural Playground in a TDSB School" type="text/html">
<meta property="og:site_name" content="Blog-O!">
<meta property="og:title" content="Cleaning out your Firefox profile.">
<meta property="og:url" content="https://bwinton.github.io/weblog.latte.ca/blake/employment/mozilla/tabsaver.html">
<meta property="og:description" content="For a while now, I’ve been having problems with my Firefox profile.  To be fair,
it’s mostly because of random about:config tweaks I’ve made, but
still, not being able to test the new SocialAPI stuff ">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2012-11-23T13:42:09-05:00">
<meta property="article:tag" content="cleaning">
<meta property="article:tag" content="faster">
<meta property="article:tag" content="firefox">
<meta property="article:tag" content="mozilla">
<meta property="article:tag" content="profile">
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://bwinton.github.io/weblog.latte.ca/">

                <span id="blog-title">Blog-O!</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="../../../archive.html">Archive</a>
                </li>
<li>
<a href="../../../tags/index.html">Tags</a>
                </li>
<li>
<a href="../../../rss.xml">RSS feed</a>

                
            </li>
</ul>
<!-- Custom search --><form method="get" id="search" action="//duckduckgo.com/" class="navbar-form pull-right">
<input type="hidden" name="sites" value="https://bwinton.github.io/weblog.latte.ca/"><input type="hidden" name="k8" value="#444444"><input type="hidden" name="k9" value="#D51920"><input type="hidden" name="kt" value="h"><input type="text" name="q" maxlength="255" placeholder="Search…" style="margin-top: 4px;"><input type="submit" value="DuckDuckGo Search" style="visibility: hidden;">
</form>
<!-- End of custom search -->


            <ul class="nav navbar-nav navbar-right"></ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            
<article class="post-text h-entry hentry postpage" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title" itemprop="headline name"><a href="#" class="u-url">Cleaning out your Firefox profile.</a></h1>

        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn">Blake Winton</span></p>
            <p class="dateline"><a href="#" rel="bookmark"><time class="published dt-published" datetime="2012-11-23T13:42:09-05:00" itemprop="datePublished" title="2012-11-23 13:42">2012-11-23 13:42</time></a></p>
                <p class="commentline">
        
    <a href="tabsaver.html#disqus_thread" data-disqus-identifier="/blake/employment/mozilla/tabsaver">Comments</a>


            

        </p>
</div>
        

    </header><div class="e-content entry-content" itemprop="articleBody text">
    <div>
<p>For a while now, I’ve been having problems with my Firefox profile.  To be fair,
it’s mostly because of random <a href="about:config">about:config</a> tweaks I’ve made, but
still, not being able to test the <a href="https://blog.mozilla.org/blog/2012/11/20/firefox-introduces-new-social-api-and-previews-integration-with-facebook/">new SocialAPI</a> stuff was pretty annoying.  So I decided to try <a href="http://support.mozilla.org/en-US/kb/reset-firefox-easily-fix-most-problems">resetting my profile</a>,
to clear out all the junk, and hopefully even make it a little faster.</p>
<p>But, as the page I linked to just up there mentions, resetting your profile will
lose your open tabs, windows and tab groups, which kinda sucks, because I have
57 open tabs, in various groups, and I really don’t want to lose them!
Fortunately, I’m a programmer, so I hacked on Firefox to get it to save and
restore my tabs, and now I’m a happy camper!</p>
<p>A couple of days later, one of my co-workers had some similar problems, and also
wanted to re-set his profile to try and fix them.  I hadn’t saved the results of
my hacking, so I had to re-create it for him from a combination of memory and
the documentation.  The new code I came up with looked something like this:</p>
<pre class="code literal-block"><span></span><span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="nx">gBrowser</span><span class="p">.</span><span class="nx">tabs</span>
<span class="kd">var</span> <span class="nx">rv</span> <span class="o">=</span> <span class="s2">"var tabs = [\n"</span>
<span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">x</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">rv</span> <span class="o">+=</span> <span class="s1">'  "'</span> <span class="o">+</span> <span class="nx">x</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">linkedBrowser</span><span class="p">.</span><span class="nx">contentWindow</span><span class="p">.</span><span class="nx">location</span> <span class="o">+</span> <span class="s1">'",\n'</span><span class="p">;</span>
<span class="p">}</span>
<span class="nx">rv</span> <span class="o">+=</span> <span class="s1">'];\nfor (var i = 0; i &lt; tabs.length; i++ ) {\n'</span>
<span class="nx">rv</span> <span class="o">+=</span> <span class="s1">'  gBrowser.addTab(tabs[i]);\n}\n'</span>
</pre>


<p>To run it, first open <a href="about:config">about:config</a>, and make sure the
<code>devtools.chrome.enabled</code> preference is set to <code>true</code> (double-click it if it
isn’t, and it should switch automatically), then go to the <code>Tools » Web
Developer » Scratchpad</code> menu item, which should open up a small new window with
some javascript comments in it.  While that window is focused, click on
<code>Environment » Browser</code>, to make sure that you’re running the code in the
browser’s chrome (instead of in the page’s content).  Paste the code in, and
click <code>Execute » Display</code>.</p>
<p>That should result in a bunch of code in grey surrounded by <code>/*</code> and <code>*/</code> that
looks like:</p>
<pre class="code literal-block"><span></span><span class="kd">var</span> <span class="nx">tabs</span> <span class="o">=</span> <span class="p">[</span>
<span class="s2">"http://weblog.latte.ca/blake"</span><span class="p">,</span>
<span class="s2">"http://breakingtheegg.tumblr.com/"</span><span class="p">,</span>
<span class="p">];</span>
<span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">tabs</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span> <span class="p">)</span> <span class="p">{</span>
  <span class="nx">gBrowser</span><span class="p">.</span><span class="nx">addTab</span><span class="p">(</span><span class="nx">tabs</span><span class="p">[</span><span class="nx">i</span><span class="p">]);</span>
<span class="p">}</span>
</pre>


<p>Copy that out of the scratchpad into your favourite editor, remove the <code>/*</code> and
<code>*/</code>, and run the profile reset.</p>
<p>Once you’re done resetting your profile, you’ll need to change the
<code>devtools.chrome.enabled</code> preference to <code>true</code> again, and then re-open the
Scratchpad, paste the new code you saved back in to it, click on the
<code>Execute » Run</code> menu item, and <strong>shazam</strong>!  All your tabs should be back
(although they won’t be in their original tab groups.  If anyone needs me to
figure out how to do that, just let me know, and I’ll give it a try).</p>
</div>
    </div>
    <aside class="postpromonav"><nav><ul itemprop="keywords" class="tags">
<li><a class="tag p-category" href="../../../tags/cleaning.html" rel="tag">cleaning</a></li>
            <li><a class="tag p-category" href="../../../tags/faster.html" rel="tag">faster</a></li>
            <li><a class="tag p-category" href="../../../tags/firefox.html" rel="tag">firefox</a></li>
            <li><a class="tag p-category" href="../../../tags/mozilla.html" rel="tag">mozilla</a></li>
            <li><a class="tag p-category" href="../../../tags/profile.html" rel="tag">profile</a></li>
        </ul>
<ul class="pager hidden-print">
<li class="previous">
                <a href="../../../amy/letters/readinglog.html" rel="prev" title="Letter to Delphine's Teacher Re: Reading Log">Previous post</a>
            </li>
            <li class="next">
                <a href="../../../amy/everythingelse/playground.html" rel="next" title="What I Learned About Building a Natural Playground in a TDSB School">Next post</a>
            </li>
        </ul></nav></aside><section class="comments"><h2>Comments</h2>
        
        
        <div id="disqus_thread"></div>
        <script>
        var disqus_shortname ="latteblog",
            disqus_url="https://bwinton.github.io/weblog.latte.ca/blake/employment/mozilla/tabsaver.html",
        disqus_title="Cleaning out your Firefox profile.",
        disqus_identifier="/blake/employment/mozilla/tabsaver",
        disqus_config = function () {
            this.language = "en";
        };
        (function() {
            var dsq = document.createElement('script'); dsq.async = true;
            dsq.src = 'https://' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script><noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a>
</noscript>
    <a href="https://disqus.com" class="dsq-brlink" rel="nofollow">Comments powered by <span class="logo-disqus">Disqus</span></a>


        </section></article><script>var disqus_shortname="latteblog";(function(){var a=document.createElement("script");a.async=true;a.src="https://"+disqus_shortname+".disqus.com/count.js";(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(a)}());</script>
</div>
        <!--End of body content-->

        <footer id="footer"><div style="margin-bottom: 12px">Contents © 2016         <a href="mailto:bwinton@latte.ca">Blake Winton</a>
<a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/2.5/">
<img alt="Creative Commons License BY-NC-SA" style="border-width: 0; vertical-align: bottom" src="https://licensebuttons.net/l/by-nc-sa/2.5/88x31.png"></a>
</div>
            
        </footer>
</div>
</div>


            <script src="../../../assets/js/jquery.min.js"></script><script src="../../../assets/js/bootstrap.min.js"></script><script src="../../../assets/js/moment-with-locales.min.js"></script><script src="../../../assets/js/fancydates.js"></script><script src="../../../assets/js/jquery.colorbox-min.js"></script><script>$('a.image-reference:not(.islink) img:not(.islink)').parent().colorbox({rel:"gal",maxWidth:"100%",maxHeight:"100%",scalePhotos:true});</script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-5805429-2', 'auto');
  ga('send', 'pageview');

</script>
</body>
</html>
