<!DOCTYPE html>
<html prefix="og: http://ogp.me/ns# article: http://ogp.me/ns/article# " lang="en">
<head>
<meta charset="utf-8">
<base href="http://bwinton.github.io/weblog.latte.ca/blake/index-13.html">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Blake (old posts, page 13) | Blog-O!</title>
<link href="../assets/css/bootstrap.min.css" rel="stylesheet" type="text/css">
<link href="../assets/css/rst.css" rel="stylesheet" type="text/css">
<link href="../assets/css/code.css" rel="stylesheet" type="text/css">
<link href="../assets/css/colorbox.css" rel="stylesheet" type="text/css">
<link href="../assets/css/theme.css" rel="stylesheet" type="text/css">
<meta content="#5670d4" name="theme-color">
<link rel="alternate" type="application/rss+xml" title="RSS" href="../rss.xml">
<link rel="canonical" href="http://bwinton.github.io/weblog.latte.ca/blake/index-13.html">
<link rel="prev" href="index-14.html" type="text/html">
<link rel="next" href="index-12.html" type="text/html">
<!--[if lt IE 9]><script src="../assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="http://bwinton.github.io/weblog.latte.ca/">

                <span id="blog-title">Blog-O!</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="../archive.html">Archive</a>
                </li>
<li>
<a href="../tags/index.html">Tags</a>
                </li>
<li>
<a href="../rss.xml">RSS feed</a>

                
            </li>
</ul>
<!-- Custom search --><form method="get" id="search" action="//duckduckgo.com/" class="navbar-form pull-right">
<input type="hidden" name="sites" value="http://bwinton.github.io/weblog.latte.ca/"><input type="hidden" name="k8" value="#444444"><input type="hidden" name="k9" value="#D51920"><input type="hidden" name="kt" value="h"><input type="text" name="q" maxlength="255" placeholder="Search…" style="margin-top: 4px;"><input type="submit" value="DuckDuckGo Search" style="visibility: hidden;">
</form>
<!-- End of custom search -->


            <ul class="nav navbar-nav navbar-right"></ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            
<div class="sectionindex">
    <header><h2><a href="index.html">Blake (old posts, page 13)</a></h2>
    </header><div class="postindex">
    <article class="h-entry post-text"><header><h1 class="p-name entry-title"><a href="tech/thunderbird/firstpatch.html" class="u-url">Hurray!  (A technical diversion.)</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn">Blake Winton</span></p>
            <p class="dateline"><a href="tech/thunderbird/firstpatch.html" rel="bookmark"><time class="published dt-published" datetime="2009-05-29T10:25:41-04:00" itemprop="datePublished" title="2009-05-29 10:25">2009-05-29 10:25</time></a></p>
                <p class="commentline">
        
    <a href="tech/thunderbird/firstpatch.html#disqus_thread" data-disqus-identifier="/blake/tech/thunderbird/firstpatch">Comments</a>


        </p>
</div>
    </header><div class="p-summary entry-summary">
    <div>
<p>It took a while, but my <a href="http://hg.mozilla.org/comm-central/rev/98a7de404c08">first patch to Thunderbird</a> was committed today!</p>
<pre class="code literal-block"><span></span><span class="n">changeset</span><span class="o">:</span>   <span class="mi">2727</span><span class="o">:</span><span class="mi">98</span><span class="n">a7de404c08</span>
<span class="n">user</span><span class="o">:</span>        <span class="n">Blake</span> <span class="n">Winton</span> <span class="o">&lt;</span><span class="n">bwinton</span><span class="err">@</span><span class="n">latte</span><span class="o">.</span><span class="na">ca</span><span class="o">&gt;</span>
<span class="n">date</span><span class="o">:</span>        <span class="n">Fri</span> <span class="n">May</span> <span class="mi">29</span> <span class="mi">10</span><span class="o">:</span><span class="mi">35</span><span class="o">:</span><span class="mi">37</span> <span class="mi">2009</span> <span class="o">+</span><span class="mi">0100</span>
<span class="n">summary</span><span class="o">:</span>     <span class="n">Bug</span> <span class="mi">45715</span> <span class="o">-</span> <span class="s2">""</span><span class="n">Reply</span> <span class="n">to</span> <span class="n">List</span><span class="s2">" [button/(context) menu item]"</span>
             <span class="o">[</span><span class="n">r</span><span class="o">=</span><span class="n">mkmelin</span><span class="o">,</span><span class="n">sr</span><span class="o">=</span><span class="n">bienvenu</span><span class="o">,</span><span class="n">ui</span><span class="o">-</span><span class="n">review</span><span class="o">=</span><span class="n">clarkbw</span><span class="o">]</span>
</pre>


<p>The patch started off by adding a “Reply to List” button to the message
header pane as seen below, but after some discussion, the scope was
expanded to change the “Reply” button to “Reply All” or “Reply to List”,
depending on the message you’re currently viewing.</p>
<p><img alt="First cut of the Reply to List button" src="https://bug45715.bugzilla.mozilla.org/attachment.cgi?id=364625" title="Reply to List"></p>
<p>Of course, there’s still some things I’ve got to add, but those can go in a
separate patch, which will be much smaller, and so much easier to get
reviewed and committed.  And once it is, we might be able to close a
<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=45715">9-year old bug</a>,
which would be pretty sweet.</p>
</div>
    </div>
    </article><article class="h-entry post-text"><header><h1 class="p-name entry-title"><a href="random/biking/fixie.html" class="u-url">My old/new bike.</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn">Blake Winton</span></p>
            <p class="dateline"><a href="random/biking/fixie.html" rel="bookmark"><time class="published dt-published" datetime="2009-04-16T22:29:59-04:00" itemprop="datePublished" title="2009-04-16 22:29">2009-04-16 22:29</time></a></p>
                <p class="commentline">
        
    <a href="random/biking/fixie.html#disqus_thread" data-disqus-identifier="/blake/random/biking/fixie">Comments</a>


        </p>
</div>
    </header><div class="p-summary entry-summary">
    <div>
<p><a href="../images/blake/bike/fixie/Bike_l.jpg"><img src="../images/blake/bike/fixie/Bike_s.jpg" title="My new bike!" alt="The new Fixie." align="right"></a></p>
<p>I did something new today.  A while ago, I had bought a 10-speed Bianchi
for $30 at a garage sale, with the intention of converting it into a
fixed-gear/single-speed bike to tootle around on.  Well, today, I took it
down to <a href="http://bikechain.utoronto.ca/" title="Bikechain at U of T">Bikechain</a>,
and talked to Steve, who sent me on a merry goose chase picking up various
parts.  Once I had gotten a new wheel, tire, and tube and biked back to
Biekchain, Steve and I put it on the bike, checked the alignment of the
cogs and chain, and then I had to head out to buy a new rear cog, and a
lock wheel…</p>
<p>Sadly, my bike didn’t have a functional rear wheel anymore, so I had to
walk down to <a href="http://www.ucycle.com/" title="My local-ish cycle
shop">Urbane Cyclist</a> to buy the cog and lock.  I ended up with a 52:19 ratio, which is
harder to start on than the gear ratio I use to start, but isn’t too bad,
and doesn’t go as fast as the gear ratio I use to go fast, but again isn’t
too bad.  Given those two things, I figure it’s pretty close to perfect for
my style and level of riding.  When I got the cog and lock ring back to
<a href="../images/blake/bike/fixie/BikeAndMe_l.jpg"><img src="../images/blake/bike/fixie/BikeAndMe_s.jpg" title="I like it so…" alt="Me and my Fixie." align="left"></a>
Bikechain, we put them on the new rear wheel, hooked everything up, ran
into the obligatory problems, fixed them, and finally I was good to go, so
I did!  The first trip I took was a fairly short one, from U of T over to
the <a href="http://code.davidjanes.com/blog/2009/04/15/coffee-and-iphone-tomorrow/">Dark Horse Cafe</a> at
Queen and Spadina.</p>
<p>The second trip was from Queen and Spadina back home, which was a little
longer.  I learned a few things from that trip, but let me start off with
something I didn’t learn.  I had test-ridden a fixed gear bike before, so I
had already been almost bumped off by trying to coast, and this time around
I was expecting it.  So, now on to the things I did learn.</p>
<p><br clear="all"></p>
<ul>
<li>Stopping is hard.  It’s not that I can’t stop.  I’ve got both brakes and
  pedals.  The problem is stopping with one of the pedals in a decent
  position to start from when I want to start.  The other problem is that I
  really want to coast when I come to the end of a stop, and that totally
  doesn’t work.</li>
</ul>
<p><a href="../images/blake/bike/fixie/Carry_l.jpg"><img src="../images/blake/bike/fixie/Carry_s.jpg" title="I can carry it." alt="My favourite feature." align="right"></a></p>
<ul>
<li>
<p>I can carry it!  (As you can see over on the right there.)  My commuter
  bike is a good ride, and very solid, but damn is it ever heavy,
  especially after I loaded it up with accessories like a rear rack, and
  panniers, and water bottles.  The fixie is simple, clean, and light
  enough to carry all over the place.</p>
</li>
<li>
<p>The fixie is slower than my commuter bike.  Not just slower for the
  obvious reason (because I don’t have a higher gear to switch to), but
  it’s also slower for me to start, because I don’t have a lower gear to
  switch to.  It’s really kind of strange, since one of the things I seem
  to be really good at is starting really quickly from a dead stop.  Well,
  that used to be one of the things I was really good at.  On the fixie,
  not so much.</p>
</li>
<li>
<p>Even though it’s slower I found that the fixie was a far smoother ride.
  Thinking about it a little more, perhaps because it’s slower.  Since it
  takes me so much longer to stop and start, I found myself slowing down
  earlier to try and conserve as much momentum as I could.</p>
</li>
<li>
<p>All in all, I think that the new bike is going to be really good for me.
  It’ll slow me down, and calm me down, which are two things that I think I
  could use.  I can also feel how it’s changing the way I ride, making it
  more smooth, controlled, and thoughtful; keeping my legs moving to give
  me more exercise and stop them from seizing up; teaching me how to lift
  my butt off the seat to go over speed bumps while continuing to pedal.</p>
</li>
</ul>
<p>It’s fun.  A lot of fun.  I’m glad I finally got the conversion done, and
I’m really looking forward to riding it.</p>
<p><br clear="all"></p>
</div>
    </div>
    </article><article class="h-entry post-text"><header><h1 class="p-name entry-title"><a href="tech/iTouch/toomanyrobots.html" class="u-url">Too many robots!  A newbie lesson about alertView:clickedButtonAtIndex:</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn">Blake Winton</span></p>
            <p class="dateline"><a href="tech/iTouch/toomanyrobots.html" rel="bookmark"><time class="published dt-published" datetime="2009-03-23T21:55:30-04:00" itemprop="datePublished" title="2009-03-23 21:55">2009-03-23 21:55</time></a></p>
                <p class="commentline">
        
    <a href="tech/iTouch/toomanyrobots.html#disqus_thread" data-disqus-identifier="/blake/tech/iTouch/toomanyrobots">Comments</a>


        </p>
</div>
    </header><div class="p-summary entry-summary">
    <div>
<p>(With thanks to <a href="http://twitter.com/bunnyhero/">Bunnyhero</a>, both for the
title, and the inspiration to get blogging again.)</p>
<p>As you can probably guess, if you’ve read Bunnyhero’s <a href="http://www.bunnyhero.org/2009/03/23/too-many-monkeys-a-newbie-lesson-about-viewdidload/">blog post</a>, I recently learned that the AlertView delegate method
<tt>alertView:clickedButtonAtIndex:</tt> can be called <em>multiple times
for one AlertView</em>, much to my surprise.</p>
<p>And here’s how I found that out.  A couple of weeks ago, I ran across a
bug in my still-in-development iPhone game.  I was displaying an alert
when the game ended, and when the user clicked “Okay” it would go to the
next level.  And it all seemed fine until one day, when instead of
clicking the “Okay” button, I hit the home button to exit the game while
the dialog was displayed, and the next time I entered the app, there
were, like, 40 robots where I was expecting 8!</p>
<p>As a favour to a <a href="http://pyre.third-bit.com/blog/">friend of mine</a> who’s
a prof, I let the bug sit until I could debug the code in front of a
room full of undergrads, as a part of <a href="https://stanley.cdf.toronto.edu/drproject/csc301-2009-01">the software engineering class</a> he teaches.
(The whole experience turned out to not only be something that I wished
I could have seen when I was an undergrad, but also something really fun
to do from the the industry-type person side of things!  Anyone who has
a laptop, and some code with a small bug that they don’t mind showing to
a bunch of students should <em>really</em> give it a try!).  Debugging the
problem led me not to the archiver/unarchiver as I was expecting, but
instead to the observation that when I hit the home button, my delegate
method was being called up to 5 times!</p>
<p>This is why I saw way too many robots, because I was advancing 4 more
levels than I should have been.  And so when I re-entered the game, it
happily put me on level 5-ish, instead of level 2.</p>
<p>The fix was fairly simple, if slightly inelegant.  I merely added in a
flag to tell me when I was handling an alert, and would only advance the
level when I thought I had popped the alert up.  (Now that I write it, I
wonder if I can set the alert’s delegate to nil when I’m done handling
it instead.  Thoughts, anyone?)</p>
</div>
    </div>
    </article><article class="h-entry post-text"><header><h1 class="p-name entry-title"><a href="random/seventhings.html" class="u-url">Seven Things You Probably Didn’t Know About Me</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn">Blake Winton</span></p>
            <p class="dateline"><a href="random/seventhings.html" rel="bookmark"><time class="published dt-published" datetime="2009-02-18T21:30:57-05:00" itemprop="datePublished" title="2009-02-18 21:30">2009-02-18 21:30</time></a></p>
                <p class="commentline">
        
    <a href="random/seventhings.html#disqus_thread" data-disqus-identifier="/blake/random/seventhings">Comments</a>


        </p>
</div>
    </header><div class="p-summary entry-summary">
    <div>
<p>My life, such as it is, is pretty much an open book.  I’m not a very
complicated person, so I don’t know if I can find seven things that the
average reader of this blog probably doesn’t know about me.</p>
<p>Still, that’s no reason not to try.  So, here we go.</p>
<ol>
<li>
<p>I’ve had two jobs that didn’t pay me.  After the first, I swore that if
   an employer didn’t pay me again, I would quit, but this last time they
   laid me off before I found out that I wasn’t getting paid.  The most
   recent company swears that they’re trying to get me my money, but I’m
   not going to hold my breath.</p>
</li>
<li>
<p>I hated country music from the first time I heard Billy Ray (father of
   Miley) Cyrus until Elizabeth Campbell sent me a CD full of the good
   stuff.  So now the only kind of music I don’t like is “New Country”.
   And Schönberg.  <em>Der Mondfleck</em> sucks.</p>
</li>
<li>
<p>I know enough Visual Basic to write a compiler for it, but you will
   never <em>ever</em> see it on any of my resumes.  <em>Ever</em>!  My policy is to only
   put on my resume things that I would enjoy working with on a day-to-day
   basis, and VB definitely isn’t one of those things.</p>
</li>
<li>
<p>I am almost every link but for one in the first 5 pages of Google
   results for “Blake Winton”.  I guess that’s one of the benefits of being
   on the Internet for 17 years.  (Well, kinda.  Amy has been online as
   long as I have, but doesn’t show up until page 8 of the results for her
   name, mainly because of the Unicorns-riding-fairies artist who shares
   her name.)</p>
</li>
<li>
<p>There’s a quarter of a cow in our downstairs freezer.  Well, quite a bit
   less now that Amy and I have eaten a bunch of it.  We split half a cow
   with some friends, and it arrived pre-chopped up, so we’ve been having
   at least one beef dinner per week, and often two.</p>
</li>
<li>
<p>I download, watch, and enjoy, American Idol.  Less so, now that we’re
   out of the “Simon says snarky things to really bad singers”, and into
   the “Simon says snarky things to Ryan”, but it’s still enjoyable.  (Go
   Alexis Grace!)</p>
</li>
<li>
<p>My first hard drive wasn’t actually 5 Meg, as I like to claim.  My
   father bought two hard drives, and took the 5 Meg one to the office,
   leaving the 10 Meg one at home.  The story about having 11 Meg of RAM is
   true, though.</p>
</li>
</ol>
<p>Okay, that’s my seven.  There were a few more I could think of, but I’m
glad <a href="http://blog.codekills.net/archives/50-Seven-Things.html">David</a>
didn’t run across the 25-things-about-you version, since then I would have
had no choice but to resort to things you probably don’t want to know about
me.</p>
<p>In the tradition of disbelieving in bad luck, I will now tag no-one, thus
breaking the chain.  (Although, if any of you are feeling verbose, feel
free to pick up the meme and post a list of your own.)</p>
</div>
    </div>
    </article><article class="h-entry post-text"><header><h1 class="p-name entry-title"><a href="tech/couchinvoice.html" class="u-url">Creating invoices with CouchDB.</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn">Blake Winton</span></p>
            <p class="dateline"><a href="tech/couchinvoice.html" rel="bookmark"><time class="published dt-published" datetime="2009-02-11T22:10:21-05:00" itemprop="datePublished" title="2009-02-11 22:10">2009-02-11 22:10</time></a></p>
                <p class="commentline">
        
    <a href="tech/couchinvoice.html#disqus_thread" data-disqus-identifier="/blake/tech/couchinvoice">Comments</a>


        </p>
</div>
    </header><div class="p-summary entry-summary">
    <div>
<p>A while ago I (and the rest of the company I worked for) was laid off, so I
was forcibly thrust into the world of consulting.  It’s been quite a
change, keeping track of my hours and sending out invoices for the work I
do.  And it’s that second point that I want to talk a little more about.</p>
<p>Perhaps I’m too picky, but there seemed to be a fatal flaw with all the
online invoicing tools I tried.  One didn’t allow enough clients for me on
the free plan.  (Yes, I am that cheap, especially when I’ve just been laid
off.)  Another would have allowed the client to dispute the invoice.  I
mean, really.  This is the invoice.  You don’t get to dispute it.  Or at
least, I don’t particularly want to make it easy for you.  So I ended up
using an <a href="http://1timetracking.com/">online time tracker</a>, and left the
invoice creation step until later.</p>
<p>Well, later rolled around, and I really kinda wanted to get paid, so I
downloaded a report of my hours <a href="http://1timetracking.com/#feature_tour">as a csv file</a>, and whipped up a quick Python
script to parse it, and import it into a locally running copy of CouchDB.</p>
<p>The python script looked like this:</p>
<table class="codehilitetable"><tr>
<td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36</pre></div></td>
<td class="code">
<pre class="code literal-block"><span></span><span class="kn">import</span> <span class="nn">couchdb.client</span>
<span class="kn">import</span> <span class="nn">csv</span>
<span class="kn">import</span> <span class="nn">path</span>

<span class="n">server</span> <span class="o">=</span> <span class="n">couchdb</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">Server</span><span class="p">(</span><span class="s1">'http://localhost:5984/'</span><span class="p">)</span>
<span class="k">if</span> <span class="s1">'timelog'</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">server</span><span class="p">:</span>
    <span class="n">db</span> <span class="o">=</span> <span class="n">server</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="s1">'timelog'</span><span class="p">)</span>

<span class="n">db</span> <span class="o">=</span> <span class="n">server</span><span class="p">[</span><span class="s1">'timelog'</span><span class="p">]</span>
<span class="k">print</span> <span class="n">db</span>

<span class="k">def</span> <span class="nf">cleanup</span><span class="p">():</span>
    <span class="c1"># Clear out old rows.</span>
    <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">db</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">row</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">"_"</span><span class="p">):</span>
            <span class="k">del</span> <span class="n">db</span><span class="p">[</span><span class="n">row</span><span class="p">]</span>

<span class="k">def</span> <span class="nf">input</span><span class="p">(</span> <span class="n">docName</span> <span class="p">):</span>
    <span class="k">print</span> <span class="n">docName</span>
    <span class="nb">input</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span> <span class="n">docName</span> <span class="p">)</span>
    <span class="n">reader</span> <span class="o">=</span> <span class="n">csv</span><span class="o">.</span><span class="n">DictReader</span><span class="p">(</span> <span class="nb">input</span> <span class="p">)</span>
    <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">reader</span><span class="p">:</span>
        <span class="n">row</span><span class="p">[</span><span class="s1">'Import Doc Name'</span><span class="p">]</span> <span class="o">=</span> <span class="n">docName</span>
        <span class="n">row</span><span class="p">[</span><span class="s1">'Import Doc Row'</span><span class="p">]</span> <span class="o">=</span> <span class="n">i</span>
        <span class="k">if</span> <span class="s1">'Client Name'</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">row</span><span class="p">:</span>
          <span class="n">row</span><span class="p">[</span><span class="s1">'Client Name'</span><span class="p">]</span> <span class="o">=</span> <span class="s2">"Client1"</span>
        <span class="n">key</span> <span class="o">=</span> <span class="s2">"</span><span class="si">%s</span><span class="s2">_</span><span class="si">%03d</span><span class="s2">"</span> <span class="o">%</span> <span class="p">(</span><span class="n">docName</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">i</span><span class="p">)</span>
        <span class="k">print</span> <span class="s2">"  "</span><span class="p">,</span> <span class="n">key</span>
        <span class="n">db</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">row</span>
        <span class="n">i</span> <span class="o">+=</span> <span class="mi">1</span>

<span class="n">cleanup</span><span class="p">()</span>
<span class="n">base</span> <span class="o">=</span> <span class="n">path</span><span class="o">.</span><span class="n">path</span><span class="p">(</span><span class="s2">"/Users/bwinton/Documents/Client1"</span><span class="p">)</span>
<span class="k">for</span> <span class="nb">file</span> <span class="ow">in</span> <span class="n">base</span><span class="o">.</span><span class="n">files</span><span class="p">(</span><span class="s2">"*.csv"</span><span class="p">):</span>
    <span class="nb">input</span><span class="p">(</span> <span class="nb">file</span> <span class="p">)</span>
</pre>
</td>
</tr></table>
<p>Pretty easy, eh?  After that, I had to create a couple of CouchDB views:</p>
<table class="codehilitetable"><tr>
<td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53</pre></div></td>
<td class="code">
<pre class="code literal-block"><span></span><span class="c1">// hoursPerDay</span>
<span class="nx">map</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">doc</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">key</span> <span class="o">=</span> <span class="p">[</span>
    <span class="nx">doc</span><span class="p">[</span><span class="s1">'Employee name'</span><span class="p">],</span>
    <span class="nx">doc</span><span class="p">[</span><span class="s1">'Client Name'</span><span class="p">],</span>
    <span class="nx">doc</span><span class="p">[</span><span class="s1">'Date of work'</span><span class="p">],</span> 
  <span class="p">];</span>
  <span class="nx">emit</span><span class="p">(</span> <span class="nx">key</span><span class="p">,</span> <span class="nx">doc</span> <span class="p">);</span>
<span class="p">};</span>
<span class="nx">reduce</span><span class="o">=</span><span class="kd">function</span> <span class="p">(</span><span class="nx">tag</span><span class="p">,</span> <span class="nx">values</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">sum</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span>
  <span class="nx">temp</span> <span class="o">=</span> <span class="p">[]</span>
  <span class="k">for</span><span class="p">(</span> <span class="kd">var</span> <span class="nx">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="nx">i</span><span class="o">&lt;</span><span class="nx">values</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span> <span class="p">)</span> <span class="p">{</span>
    <span class="nx">sum</span> <span class="o">+=</span> <span class="nb">parseFloat</span><span class="p">(</span><span class="nx">values</span><span class="p">[</span><span class="nx">i</span><span class="p">][</span><span class="s1">'Time in hours'</span><span class="p">]);</span>
    <span class="nx">temp</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
      <span class="s1">'Order'</span><span class="o">:</span><span class="nx">values</span><span class="p">[</span><span class="nx">i</span><span class="p">][</span><span class="s1">'Import Doc Row'</span><span class="p">],</span>
      <span class="s1">'Description'</span><span class="o">:</span><span class="nx">values</span><span class="p">[</span><span class="nx">i</span><span class="p">][</span><span class="s1">'Description'</span><span class="p">],</span>
      <span class="s1">'Time'</span><span class="o">:</span><span class="nx">values</span><span class="p">[</span><span class="nx">i</span><span class="p">][</span><span class="s1">'Time in hours'</span><span class="p">],</span>
      <span class="s1">'Type'</span><span class="o">:</span><span class="nx">values</span><span class="p">[</span><span class="nx">i</span><span class="p">][</span><span class="s1">'Activity Type'</span><span class="p">],</span>
    <span class="p">}</span>
  <span class="p">}</span>
  <span class="nx">temp</span> <span class="o">=</span> <span class="nx">temp</span><span class="p">.</span><span class="nx">sort</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">a</span> <span class="o">=</span> <span class="nb">parseFloat</span><span class="p">(</span><span class="nx">a</span><span class="p">[</span><span class="s1">'Order'</span><span class="p">])</span>
    <span class="nx">b</span> <span class="o">=</span> <span class="nb">parseFloat</span><span class="p">(</span><span class="nx">b</span><span class="p">[</span><span class="s1">'Order'</span><span class="p">])</span>
    <span class="k">return</span> <span class="nx">a</span> <span class="o">-</span> <span class="nx">b</span>
  <span class="p">})</span>
  <span class="k">return</span> <span class="p">[</span><span class="nx">sum</span><span class="p">,</span> <span class="nx">temp</span><span class="p">];</span>
<span class="p">};</span>

<span class="c1">// totalHours</span>
<span class="c1">// This view is just to save me re-calculating this value every time</span>
<span class="c1">// I call the page, because it should only change when we add a new</span>
<span class="c1">// document.</span>
<span class="nx">map</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">doc</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">key</span> <span class="o">=</span> <span class="p">[</span>
    <span class="nx">doc</span><span class="p">[</span><span class="s1">'Employee name'</span><span class="p">],</span>
    <span class="nx">doc</span><span class="p">[</span><span class="s1">'Client Name'</span><span class="p">],</span>
    <span class="nx">doc</span><span class="p">[</span><span class="s1">'Date of work'</span><span class="p">],</span> 
  <span class="p">];</span>
  <span class="nx">emit</span><span class="p">(</span> <span class="nx">key</span><span class="p">,</span> <span class="nb">parseFloat</span><span class="p">(</span><span class="nx">doc</span><span class="p">[</span><span class="s1">'Time in hours'</span><span class="p">])</span> <span class="p">);</span>
<span class="p">};</span>
<span class="nx">reduce</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">keys</span><span class="p">,</span> <span class="nx">values</span><span class="p">,</span> <span class="nx">rereduce</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">function</span> <span class="nx">sum</span><span class="p">(</span> <span class="nx">values</span> <span class="p">)</span>
  <span class="p">{</span>
    <span class="nx">retval</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="k">for</span> <span class="p">(</span><span class="nx">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="nx">i</span><span class="o">&lt;</span><span class="nx">values</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span>
    <span class="p">{</span>
      <span class="nx">retval</span> <span class="o">+=</span> <span class="nx">values</span><span class="p">[</span><span class="nx">i</span><span class="p">];</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="nx">retval</span><span class="p">;</span>
  <span class="p">}</span>
  <span class="k">return</span> <span class="nx">sum</span><span class="p">(</span><span class="nx">values</span><span class="p">);</span>
<span class="p">};</span>
</pre>
</td>
</tr></table>
<p>it was a quick snippet of HTML:</p>
<table class="codehilitetable"><tr>
<td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35</pre></div></td>
<td class="code">
<pre class="code literal-block"><span></span><span class="p">&lt;</span><span class="nt">html</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">head</span><span class="p">&gt;&lt;</span><span class="nt">title</span><span class="p">&gt;</span>Time Log<span class="p">&lt;/</span><span class="nt">title</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">link</span> <span class="na">rel</span><span class="o">=</span><span class="s">"stylesheet"</span> <span class="na">href</span><span class="o">=</span><span class="s">"style/blueprint.css"</span> <span class="na">type</span><span class="o">=</span><span class="s">"text/css"</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">script</span><span class="p">&gt;</span>
      <span class="c1">// Set up some variables.</span>
      <span class="nx">months</span> <span class="o">=</span> <span class="p">[</span> <span class="s2">"2009-02"</span> <span class="p">]</span>
      <span class="nx">users</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">"Blake Winton"</span><span class="o">:</span><span class="p">{</span>
          <span class="nx">invoiceDates</span> <span class="o">:</span> <span class="p">[</span> <span class="s2">"March 1st, 2009."</span><span class="p">],</span>
          <span class="nx">address</span> <span class="o">:</span> <span class="p">[</span><span class="s2">"16 Forman Avenue"</span><span class="p">,</span>
                     <span class="s2">"Toronto, ON, M4S 2R2"</span><span class="p">,</span>
                     <span class="s2">"bwinton@latte.ca"</span><span class="p">]</span>
        <span class="p">}};</span>
    <span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">"script/bwTimesheet.js"</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
  <span class="p">&lt;/</span><span class="nt">head</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">p</span> <span class="na">class</span><span class="o">=</span><span class="s">"prepend-1"</span><span class="p">&gt;&lt;</span><span class="nt">b</span><span class="p">&gt;</span>Blake Winton<span class="p">&lt;/</span><span class="nt">b</span><span class="p">&gt;&lt;</span><span class="nt">br</span><span class="p">/&gt;</span>
    16 Forman Avenue<span class="p">&lt;</span><span class="nt">br</span><span class="p">/&gt;</span>
    Toronto, ON, M4S 2R2<span class="p">&lt;</span><span class="nt">br</span><span class="p">/&gt;</span>
    bwinton@latte.ca<span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">p</span> <span class="na">class</span><span class="o">=</span><span class="s">"prepend-1"</span><span class="p">&gt;&lt;</span><span class="nt">b</span><span class="p">&gt;</span>Invoice Number:<span class="p">&lt;/</span><span class="nt">b</span><span class="p">&gt;</span>
      XX-<span class="p">&lt;</span><span class="nt">span</span> <span class="na">id</span><span class="o">=</span><span class="s">"invoiceNum"</span><span class="p">&gt;</span>000<span class="p">&lt;/</span><span class="nt">span</span><span class="p">&gt;&lt;</span><span class="nt">br</span><span class="p">/&gt;</span>
    <span class="p">&lt;</span><span class="nt">b</span><span class="p">&gt;</span>Date:<span class="p">&lt;/</span><span class="nt">b</span><span class="p">&gt;</span> <span class="p">&lt;</span><span class="nt">span</span> <span class="na">id</span><span class="o">=</span><span class="s">"invoiceDate"</span><span class="p">&gt;</span>March 5th, 1973.<span class="p">&lt;/</span><span class="nt">span</span><span class="p">&gt;&lt;</span><span class="nt">br</span><span class="p">/&gt;&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>

    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">"prepend-1 span-1"</span><span class="p">&gt;&lt;</span><span class="nt">b</span><span class="p">&gt;</span>To:<span class="p">&lt;/</span><span class="nt">b</span><span class="p">&gt;&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">"span-22 last"</span><span class="p">&gt;</span>
    Client Name<span class="p">&lt;</span><span class="nt">br</span><span class="p">/&gt;</span>
    16 Client Address<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">p</span> <span class="na">class</span><span class="o">=</span><span class="s">"span-24"</span><span class="p">&gt;</span><span class="ni">&amp;nbsp;</span><span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;&lt;</span><span class="nt">span</span> <span class="na">id</span><span class="o">=</span><span class="s">"timesheet"</span><span class="p">&gt;</span>Timesheet loading...<span class="p">&lt;/</span><span class="nt">span</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nt">span</span> <span class="na">id</span><span class="o">=</span><span class="s">"summary"</span><span class="p">&gt;</span>Summary loading...<span class="p">&lt;/</span><span class="nt">span</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
  <span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">html</span><span class="p">&gt;</span>
</pre>
</td>
</tr></table>
<p>and Javascript:</p>
<table class="codehilitetable"><tr>
<td class="linenos"><div class="linenodiv"><pre>  1
  2
  3
  4
  5
  6
  7
  8
  9
 10
 11
 12
 13
 14
 15
 16
 17
 18
 19
 20
 21
 22
 23
 24
 25
 26
 27
 28
 29
 30
 31
 32
 33
 34
 35
 36
 37
 38
 39
 40
 41
 42
 43
 44
 45
 46
 47
 48
 49
 50
 51
 52
 53
 54
 55
 56
 57
 58
 59
 60
 61
 62
 63
 64
 65
 66
 67
 68
 69
 70
 71
 72
 73
 74
 75
 76
 77
 78
 79
 80
 81
 82
 83
 84
 85
 86
 87
 88
 89
 90
 91
 92
 93
 94
 95
 96
 97
 98
 99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131</pre></div></td>
<td class="code">
<pre class="code literal-block"><span></span><span class="c1">// Get a default month, if one wasn’t passed in.</span>
<span class="nx">month</span> <span class="o">=</span> <span class="nx">$</span><span class="p">.</span><span class="nx">url</span><span class="p">.</span><span class="nx">param</span><span class="p">(</span><span class="s1">'month'</span><span class="p">)</span>
<span class="k">if</span> <span class="p">(</span><span class="k">typeof</span><span class="p">(</span><span class="nx">month</span><span class="p">)</span> <span class="o">==</span> <span class="s1">'undefined'</span><span class="p">)</span>
<span class="p">{</span>
  <span class="nx">month</span> <span class="o">=</span> <span class="s2">"0"</span><span class="p">;</span>
<span class="p">}</span>
<span class="nx">month</span> <span class="o">=</span> <span class="nb">parseInt</span><span class="p">(</span><span class="nx">month</span><span class="p">)</span>
<span class="k">if</span> <span class="p">(</span> <span class="nx">month</span> <span class="o">&lt;</span> <span class="mi">0</span> <span class="o">||</span> <span class="nx">month</span> <span class="o">&gt;=</span> <span class="nx">months</span><span class="p">.</span><span class="nx">length</span> <span class="p">)</span>
<span class="p">{</span>
  <span class="nx">month</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
<span class="nx">invoiceNumInt</span> <span class="o">=</span> <span class="nx">month</span><span class="o">+</span><span class="mi">1</span><span class="p">;</span>
<span class="nx">month</span> <span class="o">=</span> <span class="nx">months</span><span class="p">[</span><span class="nx">month</span><span class="p">];</span>

<span class="c1">// Get a default user, if one wasn’t passed in.</span>
<span class="c1">// Yeah, I’ve defaulted it to me.  ;)</span>
<span class="nx">user</span> <span class="o">=</span> <span class="nx">$</span><span class="p">.</span><span class="nx">url</span><span class="p">.</span><span class="nx">param</span><span class="p">(</span><span class="s1">'user'</span><span class="p">)</span>
<span class="k">if</span> <span class="p">(</span><span class="k">typeof</span><span class="p">(</span><span class="nx">user</span><span class="p">)</span> <span class="o">==</span> <span class="s1">'undefined'</span><span class="p">)</span>
<span class="p">{</span>
  <span class="nx">user</span> <span class="o">=</span> <span class="s2">"Blake Winton"</span><span class="p">;</span>
<span class="p">}</span>
<span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="p">(</span><span class="nx">user</span> <span class="k">in</span> <span class="nx">users</span><span class="p">))</span>
<span class="p">{</span>
  <span class="nx">user</span> <span class="o">=</span> <span class="s2">"Blake Winton"</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">// Figure out when to start and end the invoice.</span>
<span class="nx">invoiceDates</span> <span class="o">=</span> <span class="nx">users</span><span class="p">[</span><span class="nx">user</span><span class="p">].</span><span class="nx">invoiceDates</span><span class="p">;</span>
<span class="nx">invoiceDateStr</span> <span class="o">=</span> <span class="nx">invoiceDates</span><span class="p">[</span><span class="nx">invoiceNumInt</span><span class="o">-</span><span class="mi">1</span><span class="p">];</span>
<span class="nx">start</span> <span class="o">=</span> <span class="p">[</span><span class="nx">user</span><span class="p">,</span> <span class="nx">client</span><span class="p">,</span> <span class="nx">month</span><span class="o">+</span><span class="s2">"-01"</span><span class="p">];</span>
<span class="nx">end</span> <span class="o">=</span> <span class="p">[</span><span class="nx">user</span><span class="p">,</span> <span class="nx">client</span><span class="p">,</span> <span class="nx">month</span><span class="o">+</span><span class="s2">"-31"</span><span class="p">];</span>

<span class="c1">// Why, oh why, doesn’t Javascript have printf?</span>
<span class="kd">function</span> <span class="nx">zeroPad</span><span class="p">(</span><span class="nx">num</span><span class="p">,</span><span class="nx">count</span><span class="p">)</span>
<span class="p">{</span>
  <span class="kd">var</span> <span class="nx">numZeropad</span> <span class="o">=</span> <span class="nx">num</span> <span class="o">+</span> <span class="s1">''</span><span class="p">;</span>
  <span class="k">while</span><span class="p">(</span><span class="nx">numZeropad</span><span class="p">.</span><span class="nx">length</span> <span class="o">&lt;</span> <span class="nx">count</span><span class="p">)</span>
  <span class="p">{</span>
    <span class="nx">numZeropad</span> <span class="o">=</span> <span class="s2">"0"</span> <span class="o">+</span> <span class="nx">numZeropad</span><span class="p">;</span>
  <span class="p">}</span>
  <span class="k">return</span> <span class="nx">numZeropad</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">// Update the header, with the address, invoice number, and date.</span>
<span class="kd">function</span> <span class="nx">updateHeader</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">address</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="s2">"#address"</span><span class="p">).</span><span class="nx">empty</span><span class="p">();</span>
  <span class="nx">address</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span> <span class="s2">"&lt;b&gt;"</span><span class="o">+</span><span class="nx">user</span><span class="o">+</span><span class="s2">"&lt;/b&gt;&lt;br/&gt;"</span> <span class="p">);</span>
  <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="nx">i</span><span class="o">&lt;</span><span class="nx">users</span><span class="p">[</span><span class="nx">user</span><span class="p">].</span><span class="nx">address</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span>
  <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">line</span> <span class="o">=</span> <span class="nx">users</span><span class="p">[</span><span class="nx">user</span><span class="p">].</span><span class="nx">address</span><span class="p">[</span><span class="nx">i</span><span class="p">];</span>
    <span class="nx">address</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span> <span class="nx">line</span> <span class="o">+</span> <span class="s2">"&lt;br/&gt;"</span> <span class="p">);</span>
  <span class="p">}</span>

  <span class="kd">var</span> <span class="nx">invoiceNum</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="s2">"#invoiceNum"</span><span class="p">).</span><span class="nx">empty</span><span class="p">();</span>
  <span class="nx">invoiceNum</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span> <span class="nx">zeroPad</span><span class="p">(</span> <span class="nx">invoiceNumInt</span><span class="p">,</span> <span class="mi">3</span> <span class="p">));</span>

  <span class="kd">var</span> <span class="nx">invoiceDate</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="s2">"#invoiceDate"</span><span class="p">).</span><span class="nx">empty</span><span class="p">();</span>
  <span class="nx">invoiceDate</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span> <span class="nx">invoiceDateStr</span> <span class="p">);</span>
  <span class="nx">updateTimesheet</span><span class="p">();</span>
<span class="p">}</span>

<span class="c1">// Update the timesheet, with hours and descriptions.</span>
<span class="kd">function</span> <span class="nx">updateTimesheet</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">timesheet</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="s2">"#timesheet"</span><span class="p">).</span><span class="nx">empty</span><span class="p">();</span>
  <span class="kd">var</span> <span class="nx">dbs</span> <span class="o">=</span> <span class="nx">$</span><span class="p">.</span><span class="nx">couch</span><span class="p">.</span><span class="nx">db</span><span class="p">(</span><span class="s2">"timelog"</span><span class="p">).</span><span class="nx">view</span><span class="p">(</span><span class="s2">"invoice/hoursPerDay"</span><span class="p">,{</span>
    <span class="nx">group</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
    <span class="nx">startkey</span><span class="o">:</span> <span class="nx">start</span><span class="p">,</span>
    <span class="nx">endkey</span><span class="o">:</span> <span class="nx">end</span><span class="p">,</span>
    <span class="nx">success</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">r</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">table</span> <span class="o">=</span> <span class="s2">"&lt;div class='span-20 prepend-1 last'&gt;&lt;table class='timelog'&gt;"</span><span class="p">;</span>
      <span class="nx">rowNum</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
      <span class="nx">response</span> <span class="o">=</span> <span class="nx">r</span><span class="p">[</span><span class="s1">'rows'</span><span class="p">]</span>
      <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">response</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">record</span> <span class="o">=</span> <span class="nx">response</span><span class="p">[</span><span class="nx">i</span><span class="p">];</span>
        <span class="kd">var</span> <span class="nx">date</span> <span class="o">=</span> <span class="nx">record</span><span class="p">[</span><span class="s1">'key'</span><span class="p">][</span><span class="mi">2</span><span class="p">];</span>
        <span class="kd">var</span> <span class="nx">total</span> <span class="o">=</span> <span class="nx">record</span><span class="p">[</span><span class="s1">'value'</span><span class="p">][</span><span class="mi">0</span><span class="p">];</span>
        <span class="kd">var</span> <span class="nx">entries</span> <span class="o">=</span> <span class="nx">record</span><span class="p">[</span><span class="s1">'value'</span><span class="p">][</span><span class="mi">1</span><span class="p">];</span>
        <span class="nx">table</span> <span class="o">+=</span> <span class="s2">"&lt;tr class='row"</span><span class="o">+</span><span class="nx">rowNum</span><span class="o">+</span><span class="s2">"'&gt;&lt;td&gt;"</span> <span class="o">+</span>
        <span class="nx">date</span> <span class="o">+</span> <span class="s2">"&lt;/td&gt;&lt;td&gt;"</span> <span class="o">+</span>
        <span class="nx">total</span> <span class="o">+</span> <span class="s2">"h&lt;/td&gt;"</span><span class="p">;</span>
        <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">j</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="nx">j</span> <span class="o">&lt;</span> <span class="nx">entries</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">j</span><span class="o">++</span> <span class="p">)</span>
        <span class="p">{</span>
          <span class="k">if</span> <span class="p">(</span><span class="nx">j</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span>
          <span class="p">{</span>
            <span class="nx">table</span> <span class="o">+=</span> <span class="s2">"&lt;tr class='row"</span><span class="o">+</span><span class="nx">rowNum</span><span class="o">+</span><span class="s2">"'&gt;&lt;td/&gt;&lt;td/&gt;"</span><span class="p">;</span>
          <span class="p">}</span>
          <span class="nx">table</span> <span class="o">+=</span> <span class="s2">"&lt;td&gt;"</span> <span class="o">+</span> <span class="nx">entries</span><span class="p">[</span><span class="nx">j</span><span class="p">][</span><span class="s1">'Time'</span><span class="p">]</span> <span class="o">+</span> <span class="s2">"h - "</span> <span class="o">+</span>
            <span class="nx">entries</span><span class="p">[</span><span class="nx">j</span><span class="p">][</span><span class="s1">'Description'</span><span class="p">]</span> <span class="o">+</span> <span class="s2">"&lt;/td&gt;&lt;/tr&gt;"</span><span class="p">;</span>
          <span class="nx">rowNum</span> <span class="o">+=</span> <span class="mi">1</span><span class="p">;</span>
          <span class="nx">rowNum</span> <span class="o">%=</span> <span class="mi">2</span><span class="p">;</span>
        <span class="p">}</span>
      <span class="p">}</span>
      <span class="nx">table</span> <span class="o">+=</span> <span class="s2">"&lt;/table&gt;&lt;/div&gt;"</span><span class="p">;</span>
      <span class="nx">timesheet</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span> <span class="nx">table</span> <span class="p">);</span>
      <span class="nx">updateSummary</span><span class="p">();</span>
    <span class="p">}</span>
  <span class="p">})</span>
<span class="p">};</span>

<span class="c1">// And finally, update the important stuff.</span>
<span class="c1">// The total hours, rate, and amount owed.</span>
<span class="kd">function</span> <span class="nx">updateSummary</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">dbs</span> <span class="o">=</span> <span class="nx">$</span><span class="p">.</span><span class="nx">couch</span><span class="p">.</span><span class="nx">db</span><span class="p">(</span><span class="s2">"timelog"</span><span class="p">).</span><span class="nx">view</span><span class="p">(</span><span class="s2">"invoice/totalHours"</span><span class="p">,{</span>
    <span class="nx">startkey</span><span class="o">:</span> <span class="nx">start</span><span class="p">,</span>
    <span class="nx">endkey</span><span class="o">:</span> <span class="nx">end</span><span class="p">,</span>
    <span class="nx">success</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">r</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">summary</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="s2">"#summary"</span><span class="p">).</span><span class="nx">empty</span><span class="p">();</span>
      <span class="nx">content</span> <span class="o">=</span> <span class="s2">"&lt;p class='span-20 prepend-1 last'&gt;"</span><span class="p">;</span>
      <span class="k">if</span> <span class="p">(</span> <span class="nx">r</span><span class="p">[</span><span class="s1">'rows'</span><span class="p">].</span><span class="nx">length</span> <span class="o">==</span> <span class="mi">0</span> <span class="p">)</span>
      <span class="p">{</span>
        <span class="nx">content</span> <span class="o">+=</span> <span class="s2">"No data available."</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">else</span>
      <span class="p">{</span>
        <span class="nx">value</span> <span class="o">=</span> <span class="nx">r</span><span class="p">[</span><span class="s1">'rows'</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">'value'</span><span class="p">];</span>
        <span class="nx">content</span> <span class="o">+=</span> <span class="s2">"&lt;b&gt;Total hours:&lt;/b&gt; "</span> <span class="o">+</span> <span class="nx">value</span> <span class="o">+</span> <span class="s2">"&lt;br/&gt;"</span> <span class="o">+</span>
          <span class="s2">"&lt;b&gt;Rate:&lt;/b&gt; $"</span> <span class="o">+</span> <span class="nx">rate</span> <span class="o">+</span> <span class="nx">currency</span> <span class="o">+</span><span class="s2">"/hour.&lt;br/&gt;"</span> <span class="o">+</span>
          <span class="s2">"&lt;b&gt;Sub-total:&lt;/b&gt; $"</span> <span class="o">+</span> <span class="p">(</span><span class="nx">value</span><span class="o">*</span><span class="nx">rate</span><span class="p">).</span><span class="nx">toFixed</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span> <span class="o">+</span> <span class="s2">"&lt;br/&gt;"</span> <span class="o">+</span>
          <span class="s2">"&lt;b&gt;Tax (GST @ 5%):&lt;/b&gt; $"</span> <span class="o">+</span> <span class="p">(</span><span class="nx">value</span><span class="o">*</span><span class="mi">5</span><span class="p">).</span><span class="nx">toFixed</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span> <span class="o">+</span> <span class="s2">"&lt;br/&gt;"</span> <span class="o">+</span>
          <span class="s2">"&lt;b&gt;Total Payable:&lt;/b&gt; $"</span> <span class="o">+</span> <span class="p">(</span><span class="nx">value</span><span class="o">*</span><span class="p">(</span><span class="nx">rate</span><span class="o">+</span><span class="mi">5</span><span class="p">)).</span><span class="nx">toFixed</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span> <span class="o">+</span> <span class="s2">"&lt;br/&gt;"</span>
          <span class="p">}</span>
          <span class="nx">content</span> <span class="o">+=</span> <span class="s2">"&lt;/p&gt;"</span><span class="p">;</span>
          <span class="nx">summary</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span> <span class="nx">content</span> <span class="p">);</span>
    <span class="p">}</span>
  <span class="p">});</span>
<span class="p">};</span>

<span class="c1">// When the document is ready, kick off the updates.</span>
<span class="nx">$</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">updateHeader</span><span class="p">();</span>
<span class="p">});</span>
</pre>
</td>
</tr></table>
<p>And we’re done.  Not to sound too much like an infomercial, but with <a href="http://jquery.com/">JQuery</a>, <a href="http://www.blueprintcss.org/">Blueprint</a>, <a href="http://couchdb.apache.org/">CouchDB</a>, and <a href="http://www.python.org/">Python</a>, it took me
only 255 lines of code to get a decent-enough-quality invoice that I could save
it as a PDF, send to the client, and get paid.  In fact, the client liked it
enough (or just wanted things to be standard enough) that they asked that the
other consultant on the project use the same template, so I had to spend some
time taking my original invoice script and editing it to support more than one
user.  Either way, I would call it a success.</p>
</div>
    </div>
    </article><article class="h-entry post-text"><header><h1 class="p-name entry-title"><a href="tech/vim.html" class="u-url">Home again…</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn">Blake Winton</span></p>
            <p class="dateline"><a href="tech/vim.html" rel="bookmark"><time class="published dt-published" datetime="2009-02-02T15:48:35-05:00" itemprop="datePublished" title="2009-02-02 15:48">2009-02-02 15:48</time></a></p>
                <p class="commentline">
        
    <a href="tech/vim.html#disqus_thread" data-disqus-identifier="/blake/tech/vim">Comments</a>


        </p>
</div>
    </header><div class="p-summary entry-summary">
    <div>
<p>A while ago, I downloaded Aquamacs, an emacs port for OSX, and tried
to switch to it as my default editor.  I mainly did it because I
wanted an editor I could add functionality to, à la <a href="http://steve.yegge.googlepages.com/effective-emacs">Steve Yegge</a>.  I used it for a
while, and got fairly proficient at it.  There were a lot of things
about it I really liked, like the <a href="http://jblevins.org/projects/markdown-mode/">Markdown mode</a>, and the ability to edit
files <a href="http://jeremy.zawodny.com/blog/archives/000983.html">on a remote host</a>, and the way I
could write small functions in <a href="http://www.gnu.org/software/emacs/manual/html_mono/elisp.html">elisp</a> and use
them to make me more productive.</p>
<p>But while it worked, and worked well, I didn’t really write all that
much extra elisp, and whenever I did, I didn’t really enjoy it.  So
the other day, when I found myself <a href="http://weblog.jamisbuck.org/2005/4/10/text-editing-dilemma">reading a weblog</a> about the
lack of a good graphical text editor on OSX, I found myself agreeing
with him.  So when I read <a href="http://weblog.jamisbuck.org/2008/10/10/coming-home-to-vim">a later article</a> on how the
author had finally switched back to vim, I thought that I might give
vim another chance.</p>
<p>Well, it turns out that vim is actually pretty close to a perfect text
editor for me.  It’s got <a href="http://plasticboy.com/markdown-vim-mode/">Markdown support</a>, <a href="http://www.petersblog.org/node/466">remote file editing</a>, and not only can I write
functions for it, I can <a href="http://www.vim.org/htmldoc/if_pyth.html">write them</a> in
<a href="http://python.org/">Python</a>!  As an example, here’s Steve Yegge’s
blog-check function in vim/python:</p>
<table class="codehilitetable"><tr>
<td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18</pre></div></td>
<td class="code">
<pre class="code literal-block"><span></span><span class="k">function</span><span class="p">!</span> BlogCheck<span class="p">()</span>
  <span class="k">python</span> <span class="o">&lt;&lt;</span> END
<span class="p">:::</span><span class="n">python</span>
<span class="kn">import</span> <span class="nn">re</span>
<span class="kn">import</span> <span class="nn">vim</span>
<span class="n">pattern</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span> <span class="s2">r"\s"</span> <span class="p">)</span>
<span class="n">count</span> <span class="o">=</span> <span class="mi">0</span>
<span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">vim</span><span class="o">.</span><span class="n">current</span><span class="o">.</span><span class="n">buffer</span><span class="p">:</span>
  <span class="n">line</span> <span class="o">=</span> <span class="n">pattern</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span> <span class="s2">""</span><span class="p">,</span> <span class="n">line</span> <span class="p">)</span>
  <span class="n">count</span> <span class="o">+=</span> <span class="nb">len</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>
<span class="k">if</span> <span class="n">count</span> <span class="o">&lt;=</span> <span class="mi">5000</span><span class="p">:</span>
  <span class="n">message</span> <span class="o">=</span> <span class="s2">"Okay so far"</span>
<span class="k">else</span><span class="p">:</span>
  <span class="n">message</span> <span class="o">=</span> <span class="s2">"Dude, too long"</span>
<span class="k">print</span> <span class="s2">"</span><span class="si">%s</span><span class="s2">:  </span><span class="si">%d</span><span class="s2"> chars, </span><span class="si">%d</span><span class="s2"> words"</span> <span class="o">%</span> <span class="p">(</span><span class="n">message</span><span class="p">,</span> <span class="n">count</span><span class="p">,</span> <span class="n">count</span><span class="o">/</span><span class="mi">5</span><span class="p">)</span>
<span class="p">:::</span><span class="n">vim</span>
END
<span class="k">endfunction</span>
</pre>
</td>
</tr></table>
</div>
    </div>
    </article><article class="h-entry post-text"><header><h1 class="p-name entry-title"><a href="tech/freewifi.html" class="u-url">Okay, this is cool.</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn">Blake Winton</span></p>
            <p class="dateline"><a href="tech/freewifi.html" rel="bookmark"><time class="published dt-published" datetime="2009-01-13T16:49:00-05:00" itemprop="datePublished" title="2009-01-13 16:49">2009-01-13 16:49</time></a></p>
                <p class="commentline">
        
    <a href="tech/freewifi.html#disqus_thread" data-disqus-identifier="/blake/tech/freewifi">Comments</a>


        </p>
</div>
    </header><div class="p-summary entry-summary">
    <div>
<p>I found myself downtown today, with nothing really to do between 3:30
and 6:30.  I suppose I could have headed over to U of T, but it seemed
like sort of a long way to go just to connect to the internet and come
all the way back again.  So instead of making the trek, or wasting two
tokens, I took advantage of the 2 hours of free WiFi that comes with
my Starbucks card, and stayed near Yonge, drinking green tea with a
little honey, and investigating a few bugs for work.  After it runs
out (in another 31 minutes), I think I'm going to pack up, and walk
north to my next appointment, grabbing some dinner on the way.  If I'm
right, that should put me right where I need to be, right when I need
to be there.</p>
<p>Ah, if only everything in my life could fall into place this easily.
(The upgrade to Aquamacs 1.6 that I just did also worked out really
well.  Maybe today is just my day for doing stuff!)</p>
</div>
    </div>
    </article><article class="h-entry post-text"><header><h1 class="p-name entry-title"><a href="employment/thoughts.html" class="u-url">Things on my mind.</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn">Blake Winton</span></p>
            <p class="dateline"><a href="employment/thoughts.html" rel="bookmark"><time class="published dt-published" datetime="2009-01-09T22:22:00-05:00" itemprop="datePublished" title="2009-01-09 22:22">2009-01-09 22:22</time></a></p>
                <p class="commentline">
        
    <a href="employment/thoughts.html#disqus_thread" data-disqus-identifier="/blake/employment/thoughts">Comments</a>


        </p>
</div>
    </header><div class="p-summary entry-summary">
    <div>
<p>I was chatting with a friend and former co-worker of mine today, and
asked him why I was never a part of the group guiding where the
company was going.  (Okay, I actually asked why I was never a part of
the management, but in retrospect that was the wrong question, for
reasons detailed below.  I should have asked the question I said
above.)  His answer basically boiled down to “You never wanted to be.”
One of the things he mentioned was that when I traded salary for extra
vacation days (something I was fairly proud of thinking of, since it
makes me an easier sell to the CFO, and the two are pretty much equal,
if you’re allowed to cash out unused vacation days), it indicated that
my priorities lay more with my family than with the company, with the
unspoken implication that that attitude isn’t one that will lead to a
position of power within the company.  That initial assumption led to
a series of misunderstandings, and miscommunications, until I was
effectively shut out of helping to guide the company.</p>
<p>I guess that’s fair enough, kinda, but it’s a shame that people think
that having interests outside of the office means that I’m somehow
less interested in the success of the company.  Particularly since I
didn’t take the vacation days, and was always intending on cashing
them out.  So, for my next job, I think I’m going to take that option
off the table, since I didn’t use the vacation days anyways.  (I had
27 days built up when I was laid off!)</p>
<p>I also asked him what I could do to get into management next time, but
I’m not really sure that’s really where I want to be.  I know a few
people who have moved into management, and then found it hard to get a
job when they were laid off.  Along the same lines, I still believe
I’m a far better architect and coder than manager, and so it’s sort of
foolish for a company to hire me for my managerial skills when my
coding skills are far superior.  And I really <em>really</em> like
programming.  <strong>Really</strong>.  With the spare time I had after I was laid
off, I wrote code for an iPhone game.  For fun I read up on
programming languages I haven’t seen before, and solve <a href="http://projecteuler.net/">Project
Euler</a> problems with them.  But I don’t
know if there’s a way to parlay my architecture and coding prowess
into the ability to help guide a company, since that seems to be the
exclusive province of people who manage other people.  (Of course, my
work on <a href="http://www.basieproject.org">Basie</a> last term also has me
wondering if I’m actually a mediocre manager, or if I may be better at
it than I always thought I was.)</p>
<p>I suppose there’s always one way to find out how good a manager/team
lead I am, and I expect I’ll start moving that direction in my next
job.  I can always write code on evenings and weekends, right?  Well,
either way, it’s not something I’ll worry about until I get another
job.  And certainly not something I should be worrying about this
late at night.</p>
</div>
    </div>
    </article><article class="h-entry post-text"><header><h1 class="p-name entry-title"><a href="tech/iTouch/gambit.html" class="u-url">Some notes on cross-compiling GambitC</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn">Blake Winton</span></p>
            <p class="dateline"><a href="tech/iTouch/gambit.html" rel="bookmark"><time class="published dt-published" datetime="2008-12-12T17:09:47-05:00" itemprop="datePublished" title="2008-12-12 17:09">2008-12-12 17:09</time></a></p>
                <p class="commentline">
        
    <a href="tech/iTouch/gambit.html#disqus_thread" data-disqus-identifier="/blake/tech/iTouch/gambit">Comments</a>


        </p>
</div>
    </header><div class="p-summary entry-summary">
    <div>
<p>The command to use is:</p>
<pre class="code literal-block"><span></span>$ env <span class="nv">CC</span><span class="o">=</span>/usr/local/bin/arm-apple-darwin-gcc <span class="nv">CC_FOR_BUILD</span><span class="o">=</span>gcc ./configure --host<span class="o">=</span>mac<span class="p">;</span> make
</pre>


<p>Well, kind of.  First you do that, then you copy gsc/gsc to gsc/gsc.onboard,
then you go to a new directory, and type:</p>
<pre class="code literal-block"><span></span>$ ./configure<span class="p">;</span>make
</pre>


<p>and copy the gsc/gsc from that directory into the first directory.</p>
<p>To compile a script into an exe:</p>
<pre class="code literal-block"><span></span>$ gsc/gsc -:<span class="o">=</span>. -c euler.scm
$ gsc/gsc -:<span class="o">=</span>. -link euler.c
$ /usr/local/bin/arm-apple-darwin-gcc euler.c euler_.c -Iinclude -Llib -lgambc -o euler
</pre>


<p>It's freaking huge!</p>
<pre class="code literal-block"><span></span>$ ls -alh euler
-rwxr-xr-x   <span class="m">1</span> bwinton  bwinton  4M Jan <span class="m">23</span> 14:22 euler
$ ls -alh /WifiToggle
-rwxr-xr-x   <span class="m">1</span> bwinton  bwinton  17K Jan <span class="m">16</span> 14:07 /WifiToggle
</pre>


<p>And it's not a lot faster.
0.1643 seconds for the compiled version, as opposed to 0.1803 seconds for the interpreter. </p>
<p>But on my Mac:</p>
<pre class="code literal-block"><span></span>$ more m1.c
power_of_2 <span class="o">(</span>int x<span class="o">)</span> <span class="o">{</span> <span class="k">return</span> 1<span class="s">&lt;&lt;x; }</span>
<span class="s">$ more m2.scm</span>
<span class="s">(c-declare "ex</span>tern int power_of_2 <span class="o">()</span><span class="p">;</span><span class="s2">")</span>
<span class="s2">(define pow2 (c-lambda (int) int "</span>power_of_2<span class="s2">"))</span>
<span class="s2">(define (twice x) (cons x x))</span>
$<span class="s2"> more m3.scm</span>
<span class="s2">(write (map twice (map pow2 '(1 2 3 4)))) (newline)</span>
$<span class="s2"> gsc/gsc -:=. -link -flat -o foo.o1.c m2 m3</span>
$<span class="s2"> /usr/local/bin/arm-apple-darwin-gcc -Iinclude -bundle -D___DYNAMIC m1.c m2.c m3.c foo.o1.c -o foo.o1</span>
$<span class="s2"> ls -alh foo.o1</span>
<span class="s2">-rwxr-xr-x   1 bwinton  bwinton    13K Jan 23 14:45 foo.o1</span>
</pre>


<p>then on the iTouch,</p>
<pre class="code literal-block"><span></span># scp bwinton@latte.ca:/Users/bwinton/Programming/Bazaar/iTouch/gambc-v4_1_2/foo.o1 .
# gsi foo.o1
((2 . 2) (4 . 4) (8 . 8) (16 . 16))
# gsi
Gambit v4.1.2

&gt; (load "foo")
((2 . 2) (4 . 4) (8 . 8) (16 . 16))
"/private/var/root/foo.o1"
&gt; (twice 5)
(5 . 5)
&gt; (pow2 10)
1024
</pre>
</div>
    </div>
    </article><article class="h-entry post-text"><header><h1 class="p-name entry-title"><a href="employment/newjob.html" class="u-url">How to get laid off.</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn">Blake Winton</span></p>
            <p class="dateline"><a href="employment/newjob.html" rel="bookmark"><time class="published dt-published" datetime="2008-12-07T13:21:07-05:00" itemprop="datePublished" title="2008-12-07 13:21">2008-12-07 13:21</time></a></p>
                <p class="commentline">
        
    <a href="employment/newjob.html#disqus_thread" data-disqus-identifier="/blake/employment/newjob">Comments</a>


        </p>
</div>
    </header><div class="p-summary entry-summary">
    <div>
<p>A few Fridays ago, I was laid off from my job.  After seven years I’m
sort of out of practice at looking for a new job.  The economy is also
kind of slow, and I know a few people who are going to graduate soon
into this economy, and who might want to know what I did when I was
laid off, and how I’ve found a new job.</p>
<p>So, Friday.  As a side note, if you’re ever in the position of letting
go of employees, please don’t lay them off or fire them on a Friday.
They can’t do anything but sit and brood over the weekend, which can
really get them depressed.  On the other hand, I’ve been pretty upbeat
about it because after seven years, I’m kind of ready for a change.
It <em>was</em> a big shock when I first learned about it, but I had made my
peace with it after around 30 minutes or so.  An hour later, there was
a meeting where the rest of the employees found out, and that was kind
of tough to sit through, but afterwards it was like there was a big
weight lifted from my shoulders, and my co-workers and I started to
joke around about it.</p>
<p>That afternoon, and the next couple of days, I emailed my friends and
asked whether they knew of any companies that were hiring.  From that
I got six or seven leads, and three or four interviews, and finally
decided to do some work and sign a three month contract, which will
probably turn into a longer term contract.  I don’t expect it’ll turn
into a full time job, but that works out fine for me, since I expect
the market will have changed by the new year, and I’m hoping that a
friend of mine will get the hiring freeze he’s currently in lifted by
then, and hire me.</p>
<p>On the plus side, now that I’m working from home, I bought a new
computer because I can deduct the price from my income as a business
expense.  Similarly I can deduct part of the interest on my mortgage
from my income.  And I’ll be making a fair bit more than I was getting
as a full-time employee, because of the lack of benefits, my inside
knowledge of the app, and finally because I have had only one raise in
the last seven years.  (It was hard for me to ask for a raise, because
I knew the company didn’t have a lot of money to give me a raise with,
and because I owned some of the company, so I would rather have seen
my shares increase in value than get extra cash in the short term.  Of
course neither ended up happening, but who could have foreseen that?)</p>
<p>So yeah, there’s my tale of woe and hope.  It’s really not that bad,
apart from the sadness of seeing something that you worked really hard
for crash and burn.  But even in that sadness is the spark of
excitement for something new and different.  If you haven’t gotten
your first job yet, then I don’t know if this will help you all that
much.  I guess the main thing to take away from it would be that you
should cultivate contacts among your peers, profs, co-workers, and
clients because they’re the ones who will find you the good jobs, in
the end.</p>
</div>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-14.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-12.html" rel="next">Older posts</a>
            </li>
        </ul></nav><script>var disqus_shortname="latteblog";(function(){var a=document.createElement("script");a.async=true;a.src="https://"+disqus_shortname+".disqus.com/count.js";(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(a)}());</script>
</div>

        </div>
        <!--End of body content-->

        <footer id="footer"><div style="margin-bottom: 12px">Contents © 2016         <a href="mailto:bwinton@latte.ca">Blake Winton</a>
<a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/2.5/">
<img alt="Creative Commons License BY-NC-SA" style="border-width: 0; vertical-align: bottom" src="https://licensebuttons.net/l/by-nc-sa/2.5/88x31.png"></a>
</div>
            
        </footer>
</div>
</div>


            <script src="../assets/js/jquery.min.js"></script><script src="../assets/js/bootstrap.min.js"></script><script src="../assets/js/moment-with-locales.min.js"></script><script src="../assets/js/fancydates.js"></script><script src="../assets/js/jquery.colorbox-min.js"></script><script>$('a.image-reference:not(.islink) img:not(.islink)').parent().colorbox({rel:"gal",maxWidth:"100%",maxHeight:"100%",scalePhotos:true});</script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-5805429-2', 'auto');
  ga('send', 'pageview');

</script>
</body>
</html>
