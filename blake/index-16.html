<!DOCTYPE html>
<html prefix="og: http://ogp.me/ns# article: http://ogp.me/ns/article# " lang="en">
<head>
<meta charset="utf-8">
<base href="https://bwinton.github.io/weblog.latte.ca/blake/index-16.html">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Blake (old posts, page 16) | Blog-O!</title>
<link href="../assets/css/bootstrap.min.css" rel="stylesheet" type="text/css">
<link href="../assets/css/rst.css" rel="stylesheet" type="text/css">
<link href="../assets/css/code.css" rel="stylesheet" type="text/css">
<link href="../assets/css/colorbox.css" rel="stylesheet" type="text/css">
<link href="../assets/css/theme.css" rel="stylesheet" type="text/css">
<meta content="#5670d4" name="theme-color">
<link rel="alternate" type="application/rss+xml" title="RSS" href="../rss.xml">
<link rel="canonical" href="https://bwinton.github.io/weblog.latte.ca/blake/index-16.html">
<link rel="prev" href="index-17.html" type="text/html">
<link rel="next" href="index-15.html" type="text/html">
<!--[if lt IE 9]><script src="../assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://bwinton.github.io/weblog.latte.ca/">

                <span id="blog-title">Blog-O!</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="../archive.html">Archive</a>
                </li>
<li>
<a href="../tags/index.html">Tags</a>
                </li>
<li>
<a href="../rss.xml">RSS feed</a>

                
            </li>
</ul>
<!-- Custom search --><form method="get" id="search" action="//duckduckgo.com/" class="navbar-form pull-right">
<input type="hidden" name="sites" value="https://bwinton.github.io/weblog.latte.ca/"><input type="hidden" name="k8" value="#444444"><input type="hidden" name="k9" value="#D51920"><input type="hidden" name="kt" value="h"><input type="text" name="q" maxlength="255" placeholder="Search…" style="margin-top: 4px;"><input type="submit" value="DuckDuckGo Search" style="visibility: hidden;">
</form>
<!-- End of custom search -->


            <ul class="nav navbar-nav navbar-right"></ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            
<div class="sectionindex">
    <header><h2><a href="index.html">Blake (old posts, page 16)</a></h2>
    </header><div class="postindex">
    <article class="h-entry post-text"><header><h1 class="p-name entry-title"><a href="tech/thunderbird/getanaccountuiupdate.html" class="u-url">New GetAnAccount UI.</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn">Blake Winton</span></p>
            <p class="dateline"><a href="tech/thunderbird/getanaccountuiupdate.html" rel="bookmark"><time class="published dt-published" datetime="2011-03-31T21:41:40-04:00" itemprop="datePublished" title="2011-03-31 21:41">2011-03-31 21:41</time></a></p>
                <p class="commentline">
        
    <a href="tech/thunderbird/getanaccountuiupdate.html#disqus_thread" data-disqus-identifier="/blake/tech/thunderbird/getanaccountuiupdate">Comments</a>


        </p>
</div>
    </header><div class="p-summary entry-summary">
    <div>
<p>Since <a href="http://mozillalabs.com/messaging/2010/12/14/get-an-account/">we released</a> the
<a href="https://addons.mozilla.org/en-US/thunderbird/addon/get-an-account/">GetAnAccount addon</a>, we’ve
had a lot of feedback.  Many of the people who commented were looking for
the option of getting an ad-supported account instead of paying for email
access.  We were always planning on integrating ad-supported services, as
soon as we could, but of course, doing this required a redesign.</p>
<p>One important note before we get to the good stuff: I’ve used GMail soley
as an example of a well-known ad-supported email provider here.  We may or
may not be partnering with them, and you should not take these screenshots
as proof of our intentions one way or another.</p>
<p>As you can see from this first mockup, the initial view makes it much more
obvious that you don’t need to create a new account just to use
Thunderbird.</p>
<p></p>
<center><a href="../images/blake/GetAnAccount/01-Initial_View.svg"><img src="../images/blake/GetAnAccount/01-Initial_View.svg" title="Initial View" alt="Initial View" width="50%" align="center"></a></center>
<p>If you click in the bottom half, it expands up to make it more obvious that
that’s what you want to do, and to allow us to display more information
(although we don’t have any extra information to display there yet.</p>
<p></p>
<center><a href="../images/blake/GetAnAccount/02-Click_on_Bottom.svg"><img src="../images/blake/GetAnAccount/02-Click_on_Bottom.svg" title="Click on Bottom" alt="Existing Address" width="50%" align="center"></a></center>
<p>On the other hand, if you click on the top, we do have more information
that you probably want to see before continuing on.</p>
<p></p>
<center><a href="../images/blake/GetAnAccount/03-Click_on_Top.svg"><img src="../images/blake/GetAnAccount/03-Click_on_Top.svg" title="Click on Top" alt="New Address" width="50%" align="center"></a></center>
<p>And this is something like what we hope to show you when the results have
been returned.  (Note: the Terms of Service, Existing Account, and Do It
Later buttons are still there, but have been scrolled off the bottom of
the dialog in this mockup.)</p>
<p></p>
<center><a href="../images/blake/GetAnAccount/04-Searched.svg"><img src="../images/blake/GetAnAccount/04-Searched.svg" title="Search Results" alt="Search Results" width="50%" align="center"></a></center>
<p>And finally, once you pick one of the providers, we expand that list to
show you all of the results for that provider.</p>
<p></p>
<center><a href="../images/blake/GetAnAccount/05-Chosen.svg"><img src="../images/blake/GetAnAccount/05-Chosen.svg" title="Choose a Provider" alt="Provider Chosen" width="50%" align="center"></a></center>
<p>Feedback, as always, is welcome, either here or in <a href="http://groups.google.com/group/mozilla-labs">the forum</a>.</p>
</div>
    </div>
    </article><article class="h-entry post-text"><header><h1 class="p-name entry-title"><a href="tech/thunderbird/quit.html" class="u-url">Brokeback Mountain functionality on OS X.</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn">Blake Winton</span></p>
            <p class="dateline"><a href="tech/thunderbird/quit.html" rel="bookmark"><time class="published dt-published" datetime="2011-03-25T17:48:05-04:00" itemprop="datePublished" title="2011-03-25 17:48">2011-03-25 17:48</time></a></p>
                <p class="commentline">
        
    <a href="tech/thunderbird/quit.html#disqus_thread" data-disqus-identifier="/blake/tech/thunderbird/quit">Comments</a>


        </p>
</div>
    </header><div class="p-summary entry-summary">
    <div>
<p><a href="http://ehsanakhgari.org/blog">A co-worker</a> of mine recently mentioned that
he had a problem where he all-too-often accidentally quit his applications
by hitting ⌘-q (command-q).  Since he has been having problems with
Thunderbird that I can’t fix, I thought I might do a little digging and see
if I could come up with some way of helping him.  And so here’s what I
found:</p>
<p>In the System Preferences application, there’s a “Keyboard” section.</p>
<p><img alt="The Keyboard Preference Pane" src="../images/blake/Quit/1-Keyboard.png" title="Keyboard"></p>
<p>One of the things you can choose in that section is “Keyboard Shortcuts”.</p>
<p><img alt="The Keyboard Shortcuts" src="../images/blake/Quit/2-Shortcuts.png" title="Shortcuts"></p>
<p>Pick a relatively innocuous function, like turning Zoom on and off.</p>
<p>(Note: DO NOT choose Front Row for this!)</p>
<p><img alt="The Access Shortcuts" src="../images/blake/Quit/3-Access.png" title="Access"></p>
<p>And assign that function to ⌘-q.</p>
<p><img alt="The New Shortcut" src="../images/blake/Quit/4-%E2%8C%98Q.png" title="⌘Q"></p>
<p>Now, whenever you hit ⌘-q, it will do whatever you selected, instead of
quitting the application.  Ta-da!</p>
</div>
    </div>
    </article><article class="h-entry post-text"><header><h1 class="p-name entry-title"><a href="tech/thunderbird/opensearch.html" class="u-url">OpenSearch add-on for Thunderbird updated!</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn">Blake Winton</span></p>
            <p class="dateline"><a href="tech/thunderbird/opensearch.html" rel="bookmark"><time class="published dt-published" datetime="2011-02-25T11:25:47-05:00" itemprop="datePublished" title="2011-02-25 11:25">2011-02-25 11:25</time></a></p>
                <p class="commentline">
        
    <a href="tech/thunderbird/opensearch.html#disqus_thread" data-disqus-identifier="/blake/tech/thunderbird/opensearch">Comments</a>


        </p>
</div>
    </header><div class="p-summary entry-summary">
    <div>
<p>Over the past week, I’ve been working on fixing some of <a href="https://github.com/mozilla/opensearch/issues">the reported
bugs</a> in the OpenSearch
add-on for Thunderbird, and now I think I’ve <a href="https://github.com/mozilla/opensearch/issues/closed">fixed enough</a> of them to release a
new version.  </p>
<p>You can find the full details on <a href="http://mozillalabs.com/messaging/2011/02/25/opensearch-updated/">the Mozilla Labs blog</a>, or you
could just jump straight to <a href="https://addons.mozilla.org/en-US/thunderbird/addon/opensearch/">the OpenSearch add-on page</a> to install
it.  And please leave your feedback about the add-on on <a href="https://groups.google.com/d/topic/mozilla-labs/t1wGyH8CDmQ/discussion">our Google group</a>!</p>
</div>
    </div>
    </article><article class="h-entry post-text"><header><h1 class="p-name entry-title"><a href="tech/thunderbird/wherearethebugs.html" class="u-url">What files have the most bugs?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn">Blake Winton</span></p>
            <p class="dateline"><a href="tech/thunderbird/wherearethebugs.html" rel="bookmark"><time class="published dt-published" datetime="2010-12-24T14:59:24-05:00" itemprop="datePublished" title="2010-12-24 14:59">2010-12-24 14:59</time></a></p>
                <p class="commentline">
        
    <a href="tech/thunderbird/wherearethebugs.html#disqus_thread" data-disqus-identifier="/blake/tech/thunderbird/wherearethebugs">Comments</a>


        </p>
</div>
    </header><div class="p-summary entry-summary">
    <div>
<p>I was reading <a href="http://oreilly.com/catalog/9780596808303">Making Software</a>
by Andy Oram and Greg Wilson, and got to the chapter about An Automated
Fault Prediction System.  It’s a pretty neat chapter, and it got me
wondering which files in the <a href="http://mxr.mozilla.org/comm-central/">Thunderbird code base</a> had the most bugs.  Now, I don’t have
all the info I need, but I figured an easy first pass would be to go
through the commit logs, and for each commit that started with “bug ”, add
one to the files changed in that commit.  Hmm, that sounded unintuitive.
Let me just paste (<a href="../static/blake/test.py">and link</a>) the code:</p>
<table class="codehilitetable"><tr>
<td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24</pre></div></td>
<td class="code">
<pre class="code literal-block"><span></span><span class="kn">from</span> <span class="nn">mercurial</span> <span class="kn">import</span> <span class="n">ui</span><span class="p">,</span> <span class="n">hg</span>
<span class="kn">import</span> <span class="nn">operator</span>
<span class="kn">import</span> <span class="nn">re</span>

<span class="n">ext</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="s2">"(\.c(pp)?|\.js|\.xml)$"</span><span class="p">)</span>

<span class="n">repo</span> <span class="o">=</span> <span class="n">hg</span><span class="o">.</span><span class="n">repository</span><span class="p">(</span><span class="n">ui</span><span class="o">.</span><span class="n">ui</span><span class="p">(),</span> <span class="s2">"."</span><span class="p">)</span>
<span class="n">changes</span> <span class="o">=</span> <span class="p">[</span><span class="n">repo</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">repo</span>
                   <span class="k">if</span> <span class="n">repo</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">description</span><span class="p">()</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">"bug "</span><span class="p">)]</span>

<span class="n">master</span> <span class="o">=</span> <span class="p">{}</span>

<span class="k">for</span> <span class="n">change</span> <span class="ow">in</span> <span class="n">changes</span><span class="p">:</span>
  <span class="n">files</span> <span class="o">=</span> <span class="p">[</span><span class="n">f</span> <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">change</span><span class="o">.</span><span class="n">files</span><span class="p">()</span> <span class="k">if</span> <span class="n">ext</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="n">f</span><span class="p">)]</span>
  <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">files</span><span class="p">:</span>
    <span class="n">master</span><span class="p">[</span><span class="n">f</span><span class="p">]</span> <span class="o">=</span> <span class="n">master</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span>


<span class="n">files</span> <span class="o">=</span> <span class="n">master</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
<span class="n">files</span><span class="o">.</span><span class="n">sort</span><span class="p">()</span>
<span class="n">counts</span> <span class="o">=</span> <span class="n">master</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
<span class="n">counts</span><span class="o">.</span><span class="n">sort</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="n">operator</span><span class="o">.</span><span class="n">itemgetter</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span>
<span class="n">counts</span><span class="o">.</span><span class="n">reverse</span><span class="p">()</span>
<span class="k">print</span> <span class="s2">"</span><span class="se">\n</span><span class="s2">"</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">c</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="s2">":"</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">c</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">counts</span><span class="p">[:</span><span class="mi">10</span><span class="p">]])</span>
</pre>
</td>
</tr></table>
<p>And so, without further ado, here are the files that have been changed the
most in bug fixes, and the number of times they've been changed:</p>
<ul>
<li>mail/base/content/mailWindowOverlay.js:109</li>
<li>suite/browser/browser-prefs.js:73</li>
<li>suite/browser/navigator.js:70</li>
<li>mail/base/content/msgMail3PaneWindow.js:69</li>
<li>mail/app/profile/all-thunderbird.js:67</li>
<li>suite/common/src/nsSessionStore.js:66</li>
<li>mail/components/compose/content/MsgComposeCommands.js:60</li>
<li>mailnews/imap/src/nsImapMailFolder.cpp:56</li>
<li>suite/browser/tabbrowser.xml:53</li>
<li>mail/base/content/msgHdrViewOverlay.js:52</li>
</ul>
<hr>
<p><small>As a side note, for the <a href="http://mxr.mozilla.org/mozilla-central/">mozilla repo</a> it looks like this:</small></p>
<ul>
<li><small>js/src/jstracer.cpp:780</small></li>
<li><small>browser/base/content/browser.js:654</small></li>
<li><small>layout/base/nsCSSFrameConstructor.cpp:410</small></li>
<li><small>layout/base/nsPresShell.cpp:400</small></li>
<li><small>js/src/jsobj.cpp:399</small></li>
<li><small>browser/base/content/tabbrowser.xml:397</small></li>
<li><small>widget/src/windows/nsWindow.cpp:390</small></li>
<li><small>toolkit/components/places/src/nsNavHistory.cpp:374</small></li>
<li><small>js/src/jsinterp.cpp:345</small></li>
<li><small>js/src/jsapi.cpp:343</small></li>
</ul>
</div>
    </div>
    </article><article class="h-entry post-text"><header><h1 class="p-name entry-title"><a href="random/santa2010.html" class="u-url">Dear Santa</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn">Blake Winton</span></p>
            <p class="dateline"><a href="random/santa2010.html" rel="bookmark"><time class="published dt-published" datetime="2010-12-12T10:38:22-05:00" itemprop="datePublished" title="2010-12-12 10:38">2010-12-12 10:38</time></a></p>
                <p class="commentline">
        
    <a href="random/santa2010.html#disqus_thread" data-disqus-identifier="/blake/random/santa2010">Comments</a>


        </p>
</div>
    </header><div class="p-summary entry-summary">
    <div>
<p>Dear Santa,</p>
<p><a href="http://weblog.latte.ca/amy/stuff/xmasList2010.html">Everyone else</a> is
<a href="http://weblog.latte.ca/delphine/santa2010.html">doing it</a>, so here’s my
list, too.</p>
<ul>
<li>A Blu-Ray of a fireplace, perhaps with a secondary audio track of
  christmas music.</li>
<li>Dollhouse Season 2 on Blu-Ray.</li>
<li>Books are always nice.  I’m in the mood for one of Ian Banks' Culture
  series, but I’m not sure which ones I haven’t read.</li>
<li>Whichever Usagi Yojimbo collections I’m missing.</li>
<li>Another two (<a href="http://www.thinkgeek.com/geektoys/cubegoodies/bbe8/?source=google_toys&amp;cpg=ogty1&amp;gclid=CO6b2MH-5qUCFU0J2godRD-TtA">or three!</a>) sets of BuckyBalls.  (I would get <a href="http://zenmagnets.com/">Zen Magnets</a>, but I’ve already got BuckyBalls, and I don’t
  think I want to mix them.</li>
<li>a digital photo frame, for the office.</li>
<li>A tiny usb <a href="http://www.thinkgeek.com/computing/usb-gadgets/c609/">monitor</a>.  (There are also
  touch-screen versions for more money, but I’m a little leery about them.)</li>
<li>Perhaps an <a href="http://www.arduino.cc/">Arduino</a> to play around with.</li>
</ul>
<p>Well, that’s all I can think of off the top of my head.</p>
<p>Thanks,
Blake.</p>
</div>
    </div>
    </article><article class="h-entry post-text"><header><h1 class="p-name entry-title"><a href="tech/thunderbird/checklists.html" class="u-url">Making sure I don’t forget things.</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn">Blake Winton</span></p>
            <p class="dateline"><a href="tech/thunderbird/checklists.html" rel="bookmark"><time class="published dt-published" datetime="2010-12-04T19:49:11-05:00" itemprop="datePublished" title="2010-12-04 19:49">2010-12-04 19:49</time></a></p>
                <p class="commentline">
        
    <a href="tech/thunderbird/checklists.html#disqus_thread" data-disqus-identifier="/blake/tech/thunderbird/checklists">Comments</a>


        </p>
</div>
    </header><div class="p-summary entry-summary">
    <div>
<p>I’ve created a couple of checklists, and would like to hear any feedback on
them.  They are a <a href="https://wiki.mozilla.org/User:Bwinton/Review_Checklist">Review Checklist</a>, and a <a href="https://wiki.mozilla.org/User:Bwinton/Commit_Checklist">Commit
Checklist</a>.</p>
<p>They came about after I had been working mostly on experimental add-ons for
a while, and then attempted to push a couple of reviewed fixes.  Since I
was out of practice, I managed to get something minor wrong on both of the
pushes.  (The first one failed to attribute the patch to the proper author;
The second one failed to mention the bug number in the commit message.)
Since I’m a bit of a perfectionist, this really annoyed me, and so I vowed
to write up the steps that I go through when I need to commit and push a
patch, so that I could refer to them later, since if <a href="http://us.macmillan.com/thechecklistmanifesto">checklists can save
lives</a>, then I figure they
can probably also help me do my job better.  But before I go to that, I
needed to review a patch, so I wrote up some of the things I look for when
I review a patch too.</p>
</div>
    </div>
    </article><article class="h-entry post-text"><header><h1 class="p-name entry-title"><a href="tech/thunderbird/appendchild.html" class="u-url">DOM appendChild error in Gecko 2.0</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn">Blake Winton</span></p>
            <p class="dateline"><a href="tech/thunderbird/appendchild.html" rel="bookmark"><time class="published dt-published" datetime="2010-11-30T10:58:11-05:00" itemprop="datePublished" title="2010-11-30 10:58">2010-11-30 10:58</time></a></p>
                <p class="commentline">
        
    <a href="tech/thunderbird/appendchild.html#disqus_thread" data-disqus-identifier="/blake/tech/thunderbird/appendchild">Comments</a>


        </p>
</div>
    </header><div class="p-summary entry-summary">
    <div>
<p>I was recently modifying an add-on for the upcoming Thunderbird 3.3, and
part of what I wanted to do was to run some javascript in a chrome context
that added some DOM nodes to a document in a content context.  But when I
ran the following code:</p>
<table class="codehilitetable"><tr>
<td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8
9</pre></div></td>
<td class="code">
<pre class="code literal-block"><span></span><span class="kd">let</span> <span class="nx">browser</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">'tabmail'</span><span class="p">).</span><span class="nx">getBrowserForSelectedTab</span><span class="p">();</span>
<span class="kd">let</span> <span class="nx">doc</span> <span class="o">=</span> <span class="nx">browser</span><span class="p">.</span><span class="nx">contentDocument</span><span class="p">;</span>
<span class="nx">dump</span><span class="p">(</span><span class="s2">"\n\n\n\nXXXXXXXXXX\n"</span><span class="p">);</span>
<span class="nx">dump</span><span class="p">(</span><span class="s2">"DOM Content loaded for "</span> <span class="o">+</span> <span class="nx">doc</span><span class="p">.</span><span class="nx">location</span> <span class="o">+</span> <span class="s2">"\n"</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">topBar</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s2">"div"</span><span class="p">);</span>
<span class="nx">topBar</span><span class="p">.</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="s2">"We got it!!!!!"</span><span class="p">;</span>
<span class="nx">dump</span><span class="p">(</span><span class="s2">"iB = "</span><span class="o">+</span><span class="nx">doc</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">insertBefore</span><span class="o">+</span><span class="s2">"\n"</span><span class="p">);</span>
<span class="nx">dump</span><span class="p">(</span><span class="s2">"fC = "</span><span class="o">+</span><span class="nx">doc</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">firstChild</span><span class="o">+</span><span class="s2">"\n"</span><span class="p">);</span>
<span class="nx">doc</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">insertBefore</span><span class="p">(</span><span class="nx">topBar</span><span class="p">,</span> <span class="nx">doc</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">firstChild</span><span class="p">);</span>
</pre>
</td>
</tr></table>
<p>I got the following error:</p>
<pre class="code literal-block"><span></span><span class="n">WARNING</span><span class="o">:</span> <span class="n">NS_ENSURE_SUCCESS</span><span class="o">(</span><span class="n">rv</span><span class="o">,</span> <span class="n">rv</span><span class="o">)</span> <span class="n">failed</span> <span class="k">with</span> <span class="n">result</span> <span class="mh">0x80530009</span><span class="o">:</span> <span class="n">file</span> <span class="sr">/Volumes/Devel/thunderbird/src-central/mozilla/content/base/src/</span><span class="n">nsNodeUtils</span><span class="o">.</span><span class="na">h</span><span class="o">,</span> <span class="n">line</span> <span class="mi">304</span>
<span class="n">WARNING</span><span class="o">:</span> <span class="n">NS_ENSURE_SUCCESS</span><span class="o">(</span><span class="n">rv</span><span class="o">,</span> <span class="n">rv</span><span class="o">)</span> <span class="n">failed</span> <span class="k">with</span> <span class="n">result</span> <span class="mh">0x80530009</span><span class="o">:</span> <span class="n">file</span> <span class="sr">/Volumes/Devel/thunderbird/src-central/mozilla/content/base/src/</span><span class="n">nsGenericElement</span><span class="o">.</span><span class="na">cpp</span><span class="o">,</span> <span class="n">line</span> <span class="mi">4077</span>
<span class="o">--</span> <span class="n">Exception</span> <span class="n">object</span> <span class="o">--</span>
<span class="o">[</span><span class="n">snip</span><span class="err">…</span><span class="o">]</span>
<span class="o">+</span> <span class="n">message</span> <span class="o">(</span><span class="n">string</span><span class="o">)</span> <span class="s1">'Operation is not supported'</span>
<span class="o">+</span> <span class="n">result</span> <span class="o">(</span><span class="n">number</span><span class="o">)</span> <span class="mi">2152923145</span>
<span class="o">+</span> <span class="n">name</span> <span class="o">(</span><span class="n">string</span><span class="o">)</span> <span class="s1">'NS_ERROR_DOM_NOT_SUPPORTED_ERR'</span>
</pre>


<p>Poking around a little, it seemed like I had reasonable things for the
<tt>insertBefore</tt> method, the <tt>firstChild</tt> attribute, and the
<tt>topBar</tt> variable, and so since it was late, and I couldn't see what
I had done wrong, I went to bed.</p>
<p>That turned out to be a the best thing for me to do, because this morning
<a href="http://blog.xulforum.org">Jonathan Protzenko</a> came to the rescue, saying
(<a href="http://groups.google.com/group/mozilla.dev.extensions/browse_thread/thread/cd6f0f02b6bc60f4#">in response to a similar problem</a>
with a Firefox 4.0 beta 7 extension):</p>
<blockquote>
<p>If you're modifying some content DOM from chrome code, you need to make
sure the child you're appending was created using the unprivileged
document, not the global document.</p>
<pre class="code literal-block"><span></span>// This is chrome code, this is wrong because the span is now chrome
// and you're trying to insert it into content
myContentNode.appendChild(document.createElement("span"))

// This is right, appending a content node to another content node
myContentNode.appendChild(myContentNode.ownerDocument.createElement("span"))
</pre>


<p>I've hit this issue at least three times when upgrading stuff for Gecko
2.0. Might be what you're looking for .</p>
</blockquote>
<p>And sure enough, when I changed <tt>var topBar =
document.createElement("div");</tt> to <tt>var topBar =
doc.createElement("div");</tt>
, it all started working beautifully.</p>
<p>Thank you, Jonathan!</p>
</div>
    </div>
    </article><article class="h-entry post-text"><header><h1 class="p-name entry-title"><a href="employment/mozilla/motivation.html" class="u-url">Some thoughts on Messaging.</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn">Blake Winton</span></p>
            <p class="dateline"><a href="employment/mozilla/motivation.html" rel="bookmark"><time class="published dt-published" datetime="2010-10-17T12:09:51-04:00" itemprop="datePublished" title="2010-10-17 12:09">2010-10-17 12:09</time></a></p>
                <p class="commentline">
        
    <a href="employment/mozilla/motivation.html#disqus_thread" data-disqus-identifier="/blake/employment/mozilla/motivation">Comments</a>


        </p>
</div>
    </header><div class="p-summary entry-summary">
    <div>
<p>This morning a friend mine <a href="http://twitter.com/#!/michaelocc/status/27639207641">tweeted</a> that even with a bunch
of high-quality newspapers around him, he was ignoring them in favour of
reading twitter.</p>
<p>Earlier this month, I was reading Clay Shirky’s <a href="http://www.amazon.com/exec/obidos/ASIN/1594202532/theusualsuspe-20">“Cognitive Surplus”</a>.  One
his assertions is that it was largely a historical accident that people
used to passively consume media, and now that people can produce things
just as easily, we’re going to see an explosion of “participatory culture”,
as they use those products to socialize with each other.</p>
<p>For some reason, this morning those two ideas really came together in my
mind, and it hit me that messaging on the internet is going to be huge.
Like, really, really huge.  Even bigger than you think.  And I believe that
it will end up going one of two ways.<sup id="fnref:notreally"><a class="footnote-ref" href="employment/mozilla/motivation.html#fn:notreally" rel="footnote">1</a></sup></p>
<p>One of the two futures I can imagine is full of places like <a href="http://www.facebook.com/">Facebook</a>, where you can only communicate with people who
are on the same service as you, and every service is trying to own your
online identity.  I’ve lived in that environment with instant messaging
clients, and I’m not a huge fan.  Having to check five or ten different
websites is almost as much of a pain as having to run five or ten different
instant messenger programs.  (Or having <a href="http://adium.im/">the one</a>
multi-protocol client frequently lose service on one or more of <a href="http://msn.com/">the
networks</a> when the provider decides to cut them off.)</p>
<p>The other is one where all <a href="http://www.joindiaspora.com/">the services</a> can
interoperate, and you can communicate with all your friends, relatives, and
co-workers from <a href="http://www.mozillamessaging.com/thunderbird/">a single program</a> which will go out and get the
messgages, sort them, collate them, maybe even rank them in terms of
importance, or do a million other things that I can’t even think of.  A
world where if one messaging service provider decides to cancel your
account for some reason, you’re not cut off from the people you knew there,
and you still have all the images you uploaded, and messages you posted,
and can send them all to a new provider, without losing anything.</p>
<p>That second world is the one I want to help make happen, and I’m very
fortunate that people are paying me to do just that.  I’ll <a href="http://twitter.com/gvwilson/status/27642888999">stop talking
now</a>, but only after saying
that <a href="https://bugzilla.mozilla.org/buglist.cgi?query_format=advanced&amp;short_desc_type=allwordssubstr&amp;short_desc=&amp;product=MailNews+Core&amp;product=Thunderbird&amp;long_desc_type=allwordssubstr&amp;long_desc=&amp;bug_file_loc_type=allwordssubstr&amp;bug_file_loc=&amp;status_whiteboard_type=allwordssubstr&amp;status_whiteboard=%5Bgood%20first%20bug%5D&amp;keywords_type=allwords&amp;keywords=&amp;bug_status=UNCONFIRMED&amp;bug_status=NEW&amp;bug_status=REOPENED&amp;emailtype1=substring&amp;email1=&amp;emailtype2=substring&amp;email2=&amp;bugidtype=include&amp;bug_id=&amp;votes=&amp;chfieldfrom=&amp;chfieldto=Now&amp;chfieldvalue=&amp;cmdtype=doit&amp;order=Reuse+same+sort+as+last+time&amp;field0-0-0=noop&amp;type0-0-0=noop&amp;value0-0-0=">you can</a>
<a href="https://bugzilla.mozilla.org/buglist.cgi?query_format=advanced&amp;short_desc_type=allwordssubstr&amp;short_desc=&amp;product=MailNews+Core&amp;product=Thunderbird&amp;long_desc_type=allwordssubstr&amp;long_desc=&amp;bug_file_loc_type=allwordssubstr&amp;bug_file_loc=&amp;status_whiteboard_type=allwordssubstr&amp;status_whiteboard=&amp;keywords_type=allwords&amp;keywords=student-project&amp;bug_status=UNCONFIRMED&amp;bug_status=NEW&amp;bug_status=REOPENED&amp;emailtype1=substring&amp;email1=&amp;emailtype2=substring&amp;email2=&amp;bugidtype=include&amp;bug_id=&amp;votes=&amp;chfieldfrom=&amp;chfieldto=Now&amp;chfieldvalue=&amp;cmdtype=doit&amp;order=Reuse+same+sort+as+last+time&amp;field0-0-0=noop&amp;type0-0-0=noop&amp;value0-0-0=">help, too</a>.</p>
<div class="footnote">
<hr>
<ol>
<li id="fn:notreally">
<p>Well, to be honest I think it’s far more likely to be some combination of those two futures, and perhaps some other things that I can’t predict.  Stuff rarely ends up as just one thing or another. <a class="footnote-backref" href="employment/mozilla/motivation.html#fnref:notreally" rev="footnote" title="Jump back to footnote 1 in the text">↩</a></p>
</li>
</ol>
</div>
</div>
    </div>
    </article><article class="h-entry post-text"><header><h1 class="p-name entry-title"><a href="employment/mozilla/l10nlead.html" class="u-url">Mozilla Messaging is looking for a new L10n Lead!</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn">Blake Winton</span></p>
            <p class="dateline"><a href="employment/mozilla/l10nlead.html" rel="bookmark"><time class="published dt-published" datetime="2010-09-14T15:28:53-04:00" itemprop="datePublished" title="2010-09-14 15:28">2010-09-14 15:28</time></a></p>
                <p class="commentline">
        
    <a href="employment/mozilla/l10nlead.html#disqus_thread" data-disqus-identifier="/blake/employment/mozilla/l10nlead">Comments</a>


        </p>
</div>
    </header><div class="p-summary entry-summary">
    <p>See <a href="http://redpuma.net/blog/?p=661">DMose’s post</a> for details…</p>
    </div>
    </article><article class="h-entry post-text"><header><h1 class="p-name entry-title"><a href="gsoc2010.html" class="u-url">A quick roundup of the GSoC projects I was involved in.</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn">Blake Winton</span></p>
            <p class="dateline"><a href="gsoc2010.html" rel="bookmark"><time class="published dt-published" datetime="2010-09-14T10:55:52-04:00" itemprop="datePublished" title="2010-09-14 10:55">2010-09-14 10:55</time></a></p>
                <p class="commentline">
        
    <a href="gsoc2010.html#disqus_thread" data-disqus-identifier="/blake/gsoc2010">Comments</a>


        </p>
</div>
    </header><div class="p-summary entry-summary">
    <div>
<h4>
<a href="http://grbmozilla.wordpress.com/">Daniel</a>’s QuickLook Support</h4>
<p>There’s <a href="http://bitbucket.org/libras2909/qlplugin/src">an extension</a>
which adds QuickLook support to Thunderbird.  To run correctly, it needs
a patch to msgHdrOverlay (included in the repo).</p>
<p>The extension is also packaged as a set of changes to Thunderbird, which
you can find <a href="http://bitbucket.org/libras2909/ql-enabler/src">over here</a>.  Daniel is working on testing those changes and then turning them
into a patch which we can review, and eventually add to Thunderbird.
For now, the changes to Thunderbird need to go in a qlxpcom subdirectory
under mailnews/extensions, and there are two diffs which need to be
applied.  See <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=457546">bug 457546</a> for updates.</p>
<h4>
<a href="http://ilienert.wordpress.com/">Ian</a>’s Improved Attachment Handling</h4>
<p>Ian decided that the easiest way forward on this would be to concentrate
on the <a href="http://hg.mozilla.org/users/bwinton_latte.ca/dataminers/summary">DataMiners</a>
extension.  He did all of his work in <a href="https://bitbucket.org/ilienert/dataminers/src">a fork</a> on BitBucket, but it has
since been pulled into the official repository.</p>
<hr>
<p>I’m quite happy with the amount of work they both put in, and am looking
forward to seeing them continue to develop their projects in the future.</p>
</div>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-17.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-15.html" rel="next">Older posts</a>
            </li>
        </ul></nav><script>var disqus_shortname="latteblog";(function(){var a=document.createElement("script");a.async=true;a.src="https://"+disqus_shortname+".disqus.com/count.js";(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(a)}());</script>
</div>

        </div>
        <!--End of body content-->

        <footer id="footer"><div style="margin-bottom: 12px">Contents © 2016         <a href="mailto:bwinton@latte.ca">Blake Winton</a>
<a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/2.5/">
<img alt="Creative Commons License BY-NC-SA" style="border-width: 0; vertical-align: bottom" src="https://licensebuttons.net/l/by-nc-sa/2.5/88x31.png"></a>
</div>
            
        </footer>
</div>
</div>


            <script src="../assets/js/jquery.min.js"></script><script src="../assets/js/bootstrap.min.js"></script><script src="../assets/js/moment-with-locales.min.js"></script><script src="../assets/js/fancydates.js"></script><script src="../assets/js/jquery.colorbox-min.js"></script><script>$('a.image-reference:not(.islink) img:not(.islink)').parent().colorbox({rel:"gal",maxWidth:"100%",maxHeight:"100%",scalePhotos:true});</script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-5805429-2', 'auto');
  ga('send', 'pageview');

</script>
</body>
</html>
