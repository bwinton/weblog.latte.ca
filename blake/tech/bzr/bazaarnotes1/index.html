<!DOCTYPE html>
<html prefix="og: http://ogp.me/ns# article: http://ogp.me/ns/article# " lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Some notes on Bazaar | Blog-O!</title>
<link href="../../../../assets/css/bootstrap.min.css" rel="stylesheet" type="text/css">
<link href="../../../../assets/css/baguetteBox.min.css" rel="stylesheet" type="text/css">
<link href="../../../../assets/css/rst.css" rel="stylesheet" type="text/css">
<link href="../../../../assets/css/code.css" rel="stylesheet" type="text/css">
<link href="../../../../assets/css/theme.css" rel="stylesheet" type="text/css">
<link href="../../../../assets/css/bootblog.css" rel="stylesheet" type="text/css">
<link href="https://fonts.googleapis.com/css?family=Playfair+Display:700,900" rel="stylesheet">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="alternate" type="application/rss+xml" title="RSS" href="../../../../rss.xml">
<link rel="canonical" href="https://bwinton.github.io/weblog.latte.ca/blake/tech/bzr/bazaarnotes1/">
<!--[if lt IE 9]><script src="../../../../assets/js/html5.js"></script><![endif]--><meta name="author" content="Blake Winton">
<link rel="prev" href="../../../../amy/houseandhome/reno/deck/july29/" title="Daily Deck Update 11" type="text/html">
<link rel="next" href="../../../../amy/everythingelse/augh/" title="Get Me Out Of Here" type="text/html">
<meta property="og:site_name" content="Blog-O!">
<meta property="og:title" content="Some notes on Bazaar">
<meta property="og:url" content="https://bwinton.github.io/weblog.latte.ca/blake/tech/bzr/bazaarnotes1/">
<meta property="og:description" content="This started off as a reply to some email on the Bazaar-NG list,
but it sort of grew and grew, until there were a whole bunch of things
in it, and I thought it would probably be better as a weblog ent">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2007-07-30T15:06:13-04:00">
<meta property="article:tag" content="bazaar-ng">
<meta property="article:tag" content="bzr">
<meta property="article:tag" content="http">
<meta property="article:tag" content="notes">
<meta property="article:tag" content="plugins">
<meta property="article:tag" content="push">
<meta property="article:tag" content="sftp">
<meta property="article:tag" content="windows">
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Header and menu bar -->
<div class="container">
      <header class="blog-header py-3"><div class="row nbb-header align-items-center">
          <div class="col-md-3 col-xs-2 col-sm-2" style="width: auto;">
            <button class="navbar-toggler navbar-light bg-light nbb-navbar-toggler" type="button" data-toggle="collapse" data-target=".bs-nav-collapsible" aria-controls="bs-navbar" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse bs-nav-collapsible bootblog4-search-form-holder">
                
<!-- Custom search -->
<form method="get" id="search" action="//duckduckgo.com/" class="navbar-form pull-right">
<input type="hidden" name="sites" value="https://bwinton.github.io/weblog.latte.ca/"><input type="hidden" name="k8" value="#444444"><input type="hidden" name="k9" value="#D51920"><input type="hidden" name="kt" value="h"><input type="text" name="q" maxlength="255" placeholder="Searchâ€¦" style="margin-top: 4px;"><input type="submit" value="DuckDuckGo Search" style="visibility: hidden;">
</form>
<!-- End of custom search -->

            </div>
        </div>
          <div class="col-md-6 col-xs-10 col-sm-10 bootblog4-brand" style="width: auto;">
            <a class="navbar-brand blog-header-logo text-dark" href="https://bwinton.github.io/weblog.latte.ca/">

            <span id="blog-title">Blog-O!</span>
        </a>
          </div>
            <div class="col-md-3 justify-content-end align-items-center bs-nav-collapsible collapse flex-collapse bootblog4-right-nav">
            <nav class="navbar navbar-light bg-white"><ul class="navbar-nav bootblog4-right-nav"></ul></nav>
</div>
    </div>
</header><nav class="navbar navbar-expand-md navbar-light bg-white static-top"><div class="collapse navbar-collapse bs-nav-collapsible" id="bs-navbar">
            <ul class="navbar-nav nav-fill d-flex w-100">
<li class="nav-item">
<a href="../../../../archive.html" class="nav-link">Archive</a>
                </li>
<li class="nav-item">
<a href="../../../../tags/index.html" class="nav-link">Tags</a>
                </li>
<li class="nav-item">
<a href="../../../../rss.xml" class="nav-link">RSS feed</a>

                
            </li>
</ul>
</div>
<!-- /.navbar-collapse -->
</nav>
</div>

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        
        
        
<article class="post-text h-entry hentry postpage" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title" itemprop="headline name"><a href="." class="u-url">Some notes on Bazaar</a></h1>

        <div class="metadata">
            <p class="byline author vcard p-author h-card"><span class="byline-name fn p-name" itemprop="author">
                    <a class="u-url" href="../../../../authors/blake-winton/">Blake Winton</a>
            </span></p>
            <p class="dateline">
            <a href="." rel="bookmark">
            <time class="published dt-published" datetime="2007-07-30T15:06:13-04:00" itemprop="datePublished" title="2007-07-30 15:06">2007-07-30 15:06</time></a>
            </p>
                <p class="commentline">
        
    <a href="#disqus_thread" data-disqus-identifier="cache/posts/blake/tech/bzr/BazaarNotes1.html">Comments</a>


            

        </p>
</div>
        

    </header><div class="e-content entry-content" itemprop="articleBody text">
    <p>This started off as a reply to some email on the Bazaar-NG list,
but it sort of grew and grew, until there were a whole bunch of things
in it, and I thought it would probably be better as a weblog entry, so
that I could find it later.</p>

<p>On to the email...<br>
Martin Pool wrote:<br>
&gt; If you have sftp access to your server, then just do<br>
&gt;   bzr init-repo sftp://user@host/~/myproject<br>
&gt;   bzr push sftp://user@host/~/myproject/mybranch<br>
&gt; then on the second machine (eg at work)<br>
&gt;   bzr init-repo ~/myproject<br>
&gt;   cd myproject<br>
&gt;   bzr branch sftp://user@host/~/myproject/mybranch<br></p>

<p>As a related question, if I wanted other people to be able to download
my branch over http, would it suffice to do something on the server
like<br><br>
bzr init-repo ~/www/myproject<br>
cd ~/www/myproject<br>
bzr branch sftp://user@host/~/myproject/mybranch<br><br>
or would I need to push straight to ~/www/myproject/mybranch?
</p>

<p>I'm of two minds here, and I'ld like to explain why, in case it's a
common problem.  On the one hand, the repo I created by following the
steps in the first part of Martin's message<br>
&gt;   bzr init-repo sftp://user@host/~/myproject<br>
&gt;   bzr push sftp://user@host/~/myproject/mybranch<br>
should be just the same as any other repository, right?<br><br>
But, on the other hand, when I ssh to "user@host", and look in
~/myproject, all I see is a .bzr directory.  None of the files I
allegedly pushed.
</p>

<p>A search for 'bzr push "no content"' and 'bzr push missing files'
turns up nothing that makes much sense to me.  running 'bzr help push'
finally shows me the following lines:<br>
&gt; The target branch will not have its working tree populated
because<br>
&gt; this is both expensive, and is not supported on remote file
systems.<br>
which explains it at least a little.  So I started looking for a way
to push and update, which quickly led me to the push-and-update
plugin, but I'm now lost as to how to install it into my copy of bzr
(the binary distribution, running under Windows XP.)  The plugins
document that ships with bzr says "typically found in
/usr/lib/python2.4/site-packages/bzrlib/plugins/", but I'm really
fairly sure that's not where it's located on <i>my</i> box...  <a href="http://dpi.radiology.uiowa.edu/mifar/doc/bazaar-setup.php">another
page</a> says that it is "usually [...]
C:\python2.4\site-packages\bzrlib\plugins under Windows", but again,
that directory doesn't exist where I am.
</p>

<p>Since I expect it'll make a difference to any answer I get, let me
just say upfront that I've installed Bazaar (bzr) 0.18.0 into
C:\Program Files\Bazaar\ using the Windows standalone installer.  The
output of "bzr version" is:<br>
"""<br>
Bazaar (bzr) 0.18.0<br>
Using Python interpreter: C:\Program Files\Bazaar\bzr.exe<br>
Using Python standard library: C:\Program
Files\Bazaar\lib\library.zip<br>
Using bzrlib: C:\Program Files\Bazaar\lib\library.zip\bzrlib<br>
Using Bazaar configuration: C:/Documents and
Settings/blake/Application Data/bazaar/2.0<br>
Using Bazaar log file: C:\Documents and Settings\blake\My
Documents\.bzr.log<br><br>
Copyright 2005, 2006, 2007 Canonical Ltd.<br>
http://bazaar-vcs.org/<br><br>
bzr comes with ABSOLUTELY NO WARRANTY.  bzr is free software, and you
may use, modify and redistribute it under the terms of the GNU General
Public License version 2 or later.<br>
"""<br><br>
So, where should I put the plugins in this case?<br></p>

<p>The answer, as given on irc, seems to be "put it somewhere else and
set the BZR_PLUGIN_PATH env variable".  Works for me, although it
would have been nice if the Windows standalone installer did that for
me, by creating a Plugins directory under the install directory.  And
as one final note, the BZR_PLUGIN_PATH, which it may contain spaces
(i.e. "C:\Program Files\Bazaar\Plugins"), must not end in a trailing
"\".</p>
    </div>
    <aside class="postpromonav"><nav><ul itemprop="keywords" class="tags">
<li><a class="tag p-category" href="../../../../tags/bazaar-ng/" rel="tag">bazaar-ng</a></li>
            <li><a class="tag p-category" href="../../../../tags/bzr/" rel="tag">bzr</a></li>
            <li><a class="tag p-category" href="../../../../tags/http/" rel="tag">http</a></li>
            <li><a class="tag p-category" href="../../../../tags/notes/" rel="tag">notes</a></li>
            <li><a class="tag p-category" href="../../../../tags/plugins/" rel="tag">plugins</a></li>
            <li><a class="tag p-category" href="../../../../tags/push/" rel="tag">push</a></li>
            <li><a class="tag p-category" href="../../../../tags/sftp/" rel="tag">sftp</a></li>
            <li><a class="tag p-category" href="../../../../tags/windows/" rel="tag">windows</a></li>
        </ul>
<ul class="pager hidden-print">
<li class="previous">
                <a href="../../../../amy/houseandhome/reno/deck/july29/" rel="prev" title="Daily Deck Update 11">Previous post</a>
            </li>
            <li class="next">
                <a href="../../../../amy/everythingelse/augh/" rel="next" title="Get Me Out Of Here">Next post</a>
            </li>
        </ul></nav></aside><section class="comments hidden-print"><h2>Comments</h2>
        
        
        <div id="disqus_thread"></div>
        <script>
        var disqus_shortname ="nikolademo",
            disqus_url="https://bwinton.github.io/weblog.latte.ca/blake/tech/bzr/bazaarnotes1/",
        disqus_title="Some notes on Bazaar",
        disqus_identifier="cache/posts/blake/tech/bzr/BazaarNotes1.html",
        disqus_config = function () {
            this.language = "en";
        };
        (function() {
            var dsq = document.createElement('script'); dsq.async = true;
            dsq.src = 'https://' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script><noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a>
</noscript>
    <a href="https://disqus.com" class="dsq-brlink" rel="nofollow">Comments powered by <span class="logo-disqus">Disqus</span></a>


        </section></article><script>var disqus_shortname="nikolademo";(function(){var a=document.createElement("script");a.async=true;a.src="https://"+disqus_shortname+".disqus.com/count.js";(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(a)}());</script><!--End of body content--><footer id="footer"><div style="margin-bottom: 12px">Contents Â© 2020         <a href="mailto:bwinton@latte.ca">Blake Winton</a>
<a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/2.5/">
<img alt="Creative Commons License BY-NC-SA" style="border-width: 0; vertical-align: bottom" src="https://licensebuttons.net/l/by-nc-sa/2.5/88x31.png"></a>
</div>
            
            
        </footer>
</div>
</div>


            <script src="../../../../assets/js/jquery.min.js"></script><script src="../../../../assets/js/popper.min.js"></script><script src="../../../../assets/js/bootstrap.min.js"></script><script src="../../../../assets/js/baguetteBox.min.js"></script><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-5805429-2', 'auto');
  ga('send', 'pageview');

</script>
</body>
</html>
