<!DOCTYPE html>
<html prefix="og: http://ogp.me/ns# article: http://ogp.me/ns/article# " lang="en">
<head>
<meta charset="utf-8">
<base href="https://weblog.latte.ca/blake/tech/drproject/codesprint.html">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Sprinting on DrProject. | Blog-O!</title>
<link href="../../../assets/css/bootstrap.min.css" rel="stylesheet" type="text/css">
<link href="../../../assets/css/rst.css" rel="stylesheet" type="text/css">
<link href="../../../assets/css/code.css" rel="stylesheet" type="text/css">
<link href="../../../assets/css/colorbox.css" rel="stylesheet" type="text/css">
<link href="../../../assets/css/theme.css" rel="stylesheet" type="text/css">
<meta content="#5670d4" name="theme-color">
<link rel="alternate" type="application/rss+xml" title="RSS" href="../../../rss.xml">
<link rel="canonical" href="https://weblog.latte.ca/blake/tech/drproject/codesprint.html">
<!--[if lt IE 9]><script src="../../../assets/js/html5.js"></script><![endif]--><meta name="author" content="Blake Winton">
<link rel="prev" href="../codeanddata.html" title="How to break web applications." type="text/html">
<link rel="next" href="../../random/hdtv.html" title="Whatever will I do without trashy TV?!?" type="text/html">
<meta property="og:site_name" content="Blog-O!">
<meta property="og:title" content="Sprinting on DrProject.">
<meta property="og:url" content="https://weblog.latte.ca/blake/tech/drproject/codesprint.html">
<meta property="og:description" content="On Friday and Saturday afternoon this week, I took some time out of my
day to go down to the University of Toronto and participate in the DrProject Code Sprint.  It
was a lot of fun, and I managed to ">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2008-01-06T21:14:42-05:00">
<meta property="article:tag" content="bugs">
<meta property="article:tag" content="drproject">
<meta property="article:tag" content="parser">
<meta property="article:tag" content="sprint">
<meta property="article:tag" content="wiki">
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://weblog.latte.ca/">

                <span id="blog-title">Blog-O!</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="../../../archive.html">Archive</a>
                </li>
<li>
<a href="../../../tags/index.html">Tags</a>
                </li>
<li>
<a href="../../../rss.xml">RSS feed</a>

                
            </li>
</ul>
<!-- Custom search --><form method="get" id="search" action="//duckduckgo.com/" class="navbar-form pull-right">
<input type="hidden" name="sites" value="https://weblog.latte.ca/"><input type="hidden" name="k8" value="#444444"><input type="hidden" name="k9" value="#D51920"><input type="hidden" name="kt" value="h"><input type="text" name="q" maxlength="255" placeholder="Search…" style="margin-top: 4px;"><input type="submit" value="DuckDuckGo Search" style="visibility: hidden;">
</form>
<!-- End of custom search -->


            <ul class="nav navbar-nav navbar-right"></ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            
<article class="post-text h-entry hentry postpage" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title" itemprop="headline name"><a href="#" class="u-url">Sprinting on DrProject.</a></h1>

        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn">Blake Winton</span></p>
            <p class="dateline"><a href="#" rel="bookmark"><time class="published dt-published" datetime="2008-01-06T21:14:42-05:00" itemprop="datePublished" title="2008-01-06 21:14">2008-01-06 21:14</time></a></p>
                <p class="commentline">
        
    <a href="codesprint.html#disqus_thread" data-disqus-identifier="/blake/tech/drproject/codesprint">Comments</a>


            

        </p>
</div>
        

    </header><div class="e-content entry-content" itemprop="articleBody text">
    <p>On Friday and Saturday afternoon this week, I took some time out of my
day to go down to the University of Toronto and participate in the <a href="https://www.drproject.org/">DrProject</a> <a href="https://www.drproject.org/DrProject/mail/5059">Code Sprint</a>.  It
was a lot of fun, and I managed to fix a couple of bugs, and get a better
understanding of one of <a href="https://www.drproject.org/DrProject/browser/trunk/drproject?file=wiki">the hairier parts</a> of DrProject.  At least I hope it’s one of the
hairier parts of DrProject, since if the whole codebase is as ugly as the
wiki parts, we’re in some serious trouble.  To be fair, it’s a
not-entirely-deterministic parser for a not-entirely-deterministic
language, so when something goes wrong, it’s kind of, uh, tricky to figure
out what’s just happened.  For example, after parsing a link surrounded in
square brackets, the following character seems to be <a href="https://www.drproject.org/DrProject/ticket/1075">treated as
text</a>.  Why?  Who knows.  As someone new to the wiki parser, I’ld love
to have the code be simpler to understand, but I’m starting to suspect that
the complexity is inherent in what it’s trying to do.</p>

<p>The two bugfixes/feature additions I did, although they seem sort of unrelated, both work
together to let people create a bibliography/set of footnotes to pages,
which is something <a href="http://pyre.third-bit.com/blog/">Greg</a> said
that he’s been wanting for a while, so that was kind of cool.  It’s nice to
be able to go somewhere, be surrounded by smart people, and concentrate on
making something better without interruptions.</p>

<p>Speaking of the bugfixes, they were:
  </p>
<ul>
<li>
<a href="https://www.drproject.org/DrProject/ticket/870">adding
support for dl/dt/dd</a> in the wiki syntax, which turned out to be
surprisingly hard, since it seemed to be the first bit of syntax that
wanted to either return more than one tag or insert a tag into the
already-generated stream, so I had to figure out which option to go with,
and how to get it working, and</li>
    <li>coming up with and implementing a wiki syntax for <a href="https://www.drproject.org/DrProject/ticket/1038">creating and referring to anchors</a> in a page, which I think I did a
pretty decent job on.  The syntax uses [wiki:#foo] as an anchor, and
[wiki:MyPage#foo] as a link to that anchor</li>
  </ul>
</div>
    <aside class="postpromonav"><nav><ul itemprop="keywords" class="tags">
<li><a class="tag p-category" href="../../../tags/bugs.html" rel="tag">bugs</a></li>
            <li><a class="tag p-category" href="../../../tags/drproject.html" rel="tag">drproject</a></li>
            <li><a class="tag p-category" href="../../../tags/parser.html" rel="tag">parser</a></li>
            <li><a class="tag p-category" href="../../../tags/sprint.html" rel="tag">sprint</a></li>
            <li><a class="tag p-category" href="../../../tags/wiki.html" rel="tag">wiki</a></li>
        </ul>
<ul class="pager hidden-print">
<li class="previous">
                <a href="../codeanddata.html" rel="prev" title="How to break web applications.">Previous post</a>
            </li>
            <li class="next">
                <a href="../../random/hdtv.html" rel="next" title="Whatever will I do without trashy TV?!?">Next post</a>
            </li>
        </ul></nav></aside><section class="comments"><h2>Comments</h2>
        
        
        <div id="disqus_thread"></div>
        <script>
        var disqus_shortname ="latteblog",
            disqus_url="https://weblog.latte.ca/blake/tech/drproject/codesprint.html",
        disqus_title="Sprinting on DrProject.",
        disqus_identifier="/blake/tech/drproject/codesprint",
        disqus_config = function () {
            this.language = "en";
        };
        (function() {
            var dsq = document.createElement('script'); dsq.async = true;
            dsq.src = 'https://' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script><noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a>
</noscript>
    <a href="https://disqus.com" class="dsq-brlink" rel="nofollow">Comments powered by <span class="logo-disqus">Disqus</span></a>


        </section></article><script>var disqus_shortname="latteblog";(function(){var a=document.createElement("script");a.async=true;a.src="https://"+disqus_shortname+".disqus.com/count.js";(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(a)}());</script>
</div>
        <!--End of body content-->

        <footer id="footer"><div style="margin-bottom: 12px">Contents © 2016         <a href="mailto:bwinton@latte.ca">Blake Winton</a>
<a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/2.5/">
<img alt="Creative Commons License BY-NC-SA" style="border-width: 0; vertical-align: bottom" src="https://licensebuttons.net/l/by-nc-sa/2.5/88x31.png"></a>
</div>
            
        </footer>
</div>
</div>


            <script src="../../../assets/js/jquery.min.js"></script><script src="../../../assets/js/bootstrap.min.js"></script><script src="../../../assets/js/moment-with-locales.min.js"></script><script src="../../../assets/js/fancydates.js"></script><script src="../../../assets/js/jquery.colorbox-min.js"></script><script>$('a.image-reference:not(.islink) img:not(.islink)').parent().colorbox({rel:"gal",maxWidth:"100%",maxHeight:"100%",scalePhotos:true});</script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-5805429-2', 'auto');
  ga('send', 'pageview');

</script>
</body>
</html>
