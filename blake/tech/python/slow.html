<!DOCTYPE html>
<html prefix="og: http://ogp.me/ns# article: http://ogp.me/ns/article# " lang="en">
<head>
<meta charset="utf-8">
<base href="https://weblog.latte.ca/blake/tech/python/slow.html">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Why is Python slow? | Blog-O!</title>
<link href="../../../assets/css/bootstrap.min.css" rel="stylesheet" type="text/css">
<link href="../../../assets/css/rst.css" rel="stylesheet" type="text/css">
<link href="../../../assets/css/code.css" rel="stylesheet" type="text/css">
<link href="../../../assets/css/colorbox.css" rel="stylesheet" type="text/css">
<link href="../../../assets/css/theme.css" rel="stylesheet" type="text/css">
<meta content="#5670d4" name="theme-color">
<link rel="alternate" type="application/rss+xml" title="RSS" href="../../../rss.xml">
<link rel="canonical" href="https://weblog.latte.ca/blake/tech/python/slow.html">
<!--[if lt IE 9]><script src="../../../assets/js/html5.js"></script><![endif]--><meta name="author" content="Blake Winton">
<link rel="prev" href="../freestuff.html" title="How to make money on the Interweeb." type="text/html">
<link rel="next" href="../../../delphine/nineteenmos.html" title="Nineteen Months" type="text/html">
<meta property="og:site_name" content="Blog-O!">
<meta property="og:title" content="Why is Python slow?">
<meta property="og:url" content="https://weblog.latte.ca/blake/tech/python/slow.html">
<meta property="og:description" content="I tried replying to this post from Peter Bowyer, but the comment submit form was behind an
httpd-authenticated wall, so I figured I'ld post the reply here instead.

Have you tried posting to the Pytho">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2004-12-23T10:44:00-05:00">
<meta property="article:tag" content="python">
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://weblog.latte.ca/">

                <span id="blog-title">Blog-O!</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="../../../archive.html">Archive</a>
                </li>
<li>
<a href="../../../tags/index.html">Tags</a>
                </li>
<li>
<a href="../../../rss.xml">RSS feed</a>

                
            </li>
</ul>
<!-- Custom search --><form method="get" id="search" action="//duckduckgo.com/" class="navbar-form pull-right">
<input type="hidden" name="sites" value="https://weblog.latte.ca/"><input type="hidden" name="k8" value="#444444"><input type="hidden" name="k9" value="#D51920"><input type="hidden" name="kt" value="h"><input type="text" name="q" maxlength="255" placeholder="Search…" style="margin-top: 4px;"><input type="submit" value="DuckDuckGo Search" style="visibility: hidden;">
</form>
<!-- End of custom search -->


            <ul class="nav navbar-nav navbar-right"></ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            
<article class="post-text h-entry hentry postpage" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title" itemprop="headline name"><a href="#" class="u-url">Why is Python slow?</a></h1>

        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn">Blake Winton</span></p>
            <p class="dateline"><a href="#" rel="bookmark"><time class="published dt-published" datetime="2004-12-23T10:44:00-05:00" itemprop="datePublished" title="2004-12-23 10:44">2004-12-23 10:44</time></a></p>
                <p class="commentline">
        
    <a href="slow.html#disqus_thread" data-disqus-identifier="/blake/tech/python/slow">Comments</a>


            

        </p>
</div>
        

    </header><div class="e-content entry-content" itemprop="articleBody text">
    <p>I tried replying to <a href="http://peter.mapledesign.co.uk/weblog/archives/python_is_slow.html">this post</a> from Peter Bowyer, but the comment submit form was behind an
httpd-authenticated wall, so I figured I'ld post the reply here instead.
</p>
<p>
Have you tried posting to the Python Tutor list (tutor@python.org), and
asking them why your code is so slow?  You'll probably get some interesting
responses.
A couple of things I've noticed off the top:
You could replace this
<code>x = 0<br>
bins = []<br>
for x in range(MAXSTEPS): bins.append(0)</code>
with this
<code>bins = [0 for x in xrange(MAXSTEPS)]</code>
which should be faster for a couple of reasons.  First, list comprehensions
are faster than repeated calls to append (I believe).  Second, xrange
should be faster than range, because it just returns the numbers one at a
time instead of creating the whole list at once.
</p>
<p>
Here's some code showing how much faster that one change is:
<code>&gt;&gt;&gt; t1="""x=0<br>
... bins=[]<br>
... for x in xrange(20): bins.append(0)"""<br>
&gt;&gt;&gt; t2 = """bins = [0 for x in xrange(20)]"""<br>
&gt;&gt;&gt; time1 = timeit.Timer(t1)<br>
&gt;&gt;&gt; time2 = timeit.Timer(t2)<br>
&gt;&gt;&gt; time1.timeit()<br>
10.322476353976072<br>
&gt;&gt;&gt; time2.timeit()<br>
7.6572002255583129</code>
</p>
<p>
As a side note, I ran:
<code>&gt;&gt;&gt; t3 = """bins = [0] * 300"""<br>
&gt;&gt;&gt; time1 = timeit.Timer(t1)<br>
&gt;&gt;&gt; time3.timeit()<br>
3.0881361995940324</code>
which takes half the time of t2 to do 15 times as many entries...
Interesting.  I'll update this with the results of the other tests as they
finish running...</p>

<p>Okay, another thought.  You calculate the distance every time through
the inner loop, which seems really slow.  Perhaps you could keep track of
the distance, and update it in the call to walk?</p>

<p>Update:<br>
Here are the results from running all of them for 300 iterations.
<code>&gt;&gt;&gt; t1="""x=0<br>
... bins=[]<br>
... for x in xrange(300): bins.append(0)"""<br>
&gt;&gt;&gt; t2 = """bins = [0 for x in xrange(300)]"""<br>
&gt;&gt;&gt; t3 = """bins = [0] * 300"""<br>
&gt;&gt;&gt; time1 = timeit.Timer(t1)<br>
&gt;&gt;&gt; time2 = timeit.Timer(t2)<br>
&gt;&gt;&gt; time3 = timeit.Timer(t3)<br>
&gt;&gt;&gt; time1.timeit()<br>
144.48788944637977<br>
&gt;&gt;&gt; time2.timeit()<br>
105.76589055161526<br>
&gt;&gt;&gt; time3.timeit()<br>
3.0881361995940324</code></p>
    </div>
    <aside class="postpromonav"><nav><ul itemprop="keywords" class="tags">
<li><a class="tag p-category" href="../../../tags/python.html" rel="tag">python</a></li>
        </ul>
<ul class="pager hidden-print">
<li class="previous">
                <a href="../freestuff.html" rel="prev" title="How to make money on the Interweeb.">Previous post</a>
            </li>
            <li class="next">
                <a href="../../../delphine/nineteenmos.html" rel="next" title="Nineteen Months">Next post</a>
            </li>
        </ul></nav></aside><section class="comments"><h2>Comments</h2>
        
        
        <div id="disqus_thread"></div>
        <script>
        var disqus_shortname ="latteblog",
            disqus_url="https://weblog.latte.ca/blake/tech/python/slow.html",
        disqus_title="Why is Python slow?",
        disqus_identifier="/blake/tech/python/slow",
        disqus_config = function () {
            this.language = "en";
        };
        (function() {
            var dsq = document.createElement('script'); dsq.async = true;
            dsq.src = 'https://' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script><noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a>
</noscript>
    <a href="https://disqus.com" class="dsq-brlink" rel="nofollow">Comments powered by <span class="logo-disqus">Disqus</span></a>


        </section></article><script>var disqus_shortname="latteblog";(function(){var a=document.createElement("script");a.async=true;a.src="https://"+disqus_shortname+".disqus.com/count.js";(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(a)}());</script>
</div>
        <!--End of body content-->

        <footer id="footer"><div style="margin-bottom: 12px">Contents © 2016         <a href="mailto:bwinton@latte.ca">Blake Winton</a>
<a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/2.5/">
<img alt="Creative Commons License BY-NC-SA" style="border-width: 0; vertical-align: bottom" src="https://licensebuttons.net/l/by-nc-sa/2.5/88x31.png"></a>
</div>
            
        </footer>
</div>
</div>


            <script src="../../../assets/js/jquery.min.js"></script><script src="../../../assets/js/bootstrap.min.js"></script><script src="../../../assets/js/moment-with-locales.min.js"></script><script src="../../../assets/js/fancydates.js"></script><script src="../../../assets/js/jquery.colorbox-min.js"></script><script>$('a.image-reference:not(.islink) img:not(.islink)').parent().colorbox({rel:"gal",maxWidth:"100%",maxHeight:"100%",scalePhotos:true});</script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-5805429-2', 'auto');
  ga('send', 'pageview');

</script>
</body>
</html>
